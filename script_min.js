var resizeTimer,updateCounter,nav="",addr=getUrlVars().addr||"",mode="light",cmde="-l",updateTimer=60,now=Rnd((new Date).getTime()/1e3),width=$("body").width(),tooltip_open="",APICon="y",xmrreg=/^[4|8]([0-9]|[A-B])(.){93}/,$A={},$M={addr:{},pref:"LNA",updt:{net:0,pool:0,miner:0,worker:0,alert:0}},$D={alert:{},block:{},blockxy:{},blockhistory:{},net:{},pool:{},poolstats:{},pay:{},poolpay:{},netheight:""},$I={light:'<svg viewBox="0 0 99 99"><circle opacity=".5" cx="48.9" cy="48.9" r="31.6"/><path d="M98.6 58.4L87.9 49l10.3-9.8c.5-.6.5-2.1-.6-2.4l-13.7-4 5-13.2c.5-1.2-.5-2.1-1.5-2L73.3 20 72 6C72 4.4 70.8 4 70 4.7l-11.8 8L51 .5c-.6-.7-1.9-.7-2.5 0l-8.2 14-14.2-8C25 5.6 24 6.3 24 7.6v14.1L9.7 20.7c-1.4-.1-1.9 1-1.4 2l6 12.8-13.3 5C-.3 41-.3 42 .6 43l11 9L1.7 62c-1 1-.5 2.1.7 2.4L16.3 68l-4.6 13.4c-.4 1 .5 2.2 1.7 1.9l14-2.8 1.7 14c.1 1.4 1.7 1.7 2.3 1L42.8 87l7.6 11.6c.6.7 2 .7 2.5-.1l6.7-12.1 12 7.6c1.1.6 2.2 0 2.3-1.2l.5-14.1 14.2 1.7c1.3.1 2-1 1.5-2l-5.6-13 13.6-4.5c1.1-.5 1.1-1.8.5-2.4zm-49.4 21a30.1 30.1 0 1 1 0-60.3 30.1 30.1 0 0 1 0 60.2z"/></svg>',dark:'<svg viewBox="0 0 99 99"><path d="M25.2 19.6l5.3 10.6 11.7 1.7-8.5 8.3 2 11.6-10.5-5.5-10.4 5.5 2-11.6-8.5-8.3L20 30.2l5.2-10.6zm29.6-3.4l2.7 5.5 6 .9-4.3 4.2 1 6-5.4-2.8-5.5 2.9 1-6-4.3-4.3 6-1 2.8-5.4zM64.8 0A46 46 0 0 1 0 64.4 50.9 50.9 0 1 0 64.6 0z"/></svg>',settings:'<svg viewBox="0 0 99 99"><path d="M19.7 50.74V10.92l-6.4 1.69v38.12a16.1 16.1 0 0 0 0 31.53v4.17l6.4 1.65v-5.82a16.09 16.09 0 0 0 0-31.52zm-3.2 25.34a9.58 9.58 0 1 1 0-19.16 9.58 9.58 0 0 1 0 19.16zm36.2-59.51S52.66 0 52.7 0h-6.4v16.57a16.09 16.09 0 0 0 0 31.53V99h6.4V48.1a16.09 16.09 0 0 0 0-31.53zm-3.2 25.35a9.58 9.58 0 1 1 0-19.17 9.58 9.58 0 0 1 0 19.17zm36.2-1.18V12.62l-6.4-1.7v29.81a16.09 16.09 0 0 0 0 31.53v15.82l6.4-1.68V72.26a16.09 16.09 0 0 0 0-31.52zm-3.2 25.34a9.58 9.58 0 1 1 0-19.16 9.58 9.58 0 0 1 0 19.16z"/></svg>',loader:'<svg viewBox="0 0 99 99"><path class="L1 C1fl" d="M66 6l10 14-14 11-10-14L66 6"/><path class="L2 C1fl" d="M41 25l11 14-14 11-11-14 14-11"/><path class="L3 C1fl" d="M60 50l11 13-14 11-11-14 14-10"/><path class="L4 C1fl" d="M37 68l10 14-14 11-10-14 14-11"/><path d="M58 40L42 19 21 35l16 21 21-16zM41 25l11 14-14 11-11-14 14-11zm42-4L66 0 45 16l17 21 21-16zM66 6l10 14-14 11-10-14L66 6zM16 78l17 21 21-16-17-21-21 16zm17 15L23 79l14-11 10 14-14 11zm7-33l16 21 21-17-16-21-21 17zm17 14L46 60l14-10 11 13-14 11z"/></svg>',loader_stopped:'<svg viewBox="0 0 99 99"><path d="M58.2 39.9L42 19 21.1 35.3l16.3 20.9 20.8-16.3zm24.4-19L66.3 0 45.4 16.3l16.3 20.9 20.9-16.3zM16.4 78L32.7 99l20.9-16.3-16.3-20.9-20.9 16.3zm23.7-18.4l16.3 20.8 20.8-16.3L61 43.3 40.1 59.7z"/></svg>',arrow:'<svg viewBox="0 0 99 99"><path d="M27 78l28-29-28-28C17 10 33-8 45 4l35 37c5 5 5 12 0 17L45 95c-12 12-29-6-18-17z"/></svg>',sort:'<svg viewBox="0 0 99 99"><path d="M56 45L35 25 15 45C8 52-6 40 3 32L29 6c4-3 9-3 12 0l27 26c9 8-4 20-12 13zm-13 9l21 20 20-20c7-7 21 5 12 13L70 93c-4 3-9 3-12 0L31 67c-9-8 4-20 12-13z"/></svg>',refresh:'<svg viewBox="0 0 99 99"><path d="M0 55.7v31l9.2-8.5a49.5 49.5 0 0 0 89.4-22.5H86.1a37.1 37.1 0 0 1-67.7 14l15.3-14H0zM49.5 0C24.3 0 3.5 18.9.4 43.3h12.5a37.1 37.1 0 0 1 68.3-13.1L68.1 43.3H99v-31l-8.9 9A49.4 49.4 0 0 0 49.5 0z"/></svg>',x:'<svg viewBox="0 0 99 99"><path d="M99 77L71 50l28-28L77 0 50 28 22 0 0 22l28 28L0 77l22 22 28-28 27 28"/></svg>',delete:'<svg viewBox="0 0 98 98"><path d="M81.8 27H15.2c-8 0-8-12.8-1-12.8 0 0 12.7 2 15.7-10.8 0-3 2.8-4 4.8-4h27.4c2 0 4 1 5 4C69 17 82.7 14.2 82.7 14.2c7 0 7 12.7-1 12.7zm-45 59.7c0 5-8 5-8 0v-43s8-5 8 0v43zm15.6 0c0 5-7.8 5-7.8 0v-43s7.8-5 7.8 0v43zm15.7 0c0 5-7.7 5-7.7 0v-43s7.8-5 7.8 0v43zm11-54H18c-4.8 0-7.7 3-6.7 8l6.8 50c1 4 5 7.8 9 7.8h43c4 0 9-3 9-8l6.7-49.8c0-5-3-8-6.8-8z"/></svg>'},loadgrp='<div class="center"><div class="C1fl shimtop30 o7 Loader">'+$I.loader+"</div></div>";function MainLoaderOn(){$("#HeadLogoMark").addClass("Loader").html($I.loader)}function MainLoaderOff(){$("#HeadLogoMark").removeClass("Loader").html($I.loader_stopped)}function LoadAlert(t){APICon="n";var e="";if("NetGraph"===t)e="Network API Connection Error",$("#NetGraph svg").addClass("o3");else{if("MinerGraph"!==t)return!1;e="Miner API Connection Error",$("#MinerGraph svg, #MinerWorkers").addClass("o3")}t&&e&&$("#"+t).append('<div class="AlertAPI C0bk'+cmde+' C4br"><div class="textmed C4 center">'+e+'</div><div class="texttable C3'+cmde+' center">Reporting will resume soon.</div></div>')}function ClearAlert(){APICon="y",$("#NetGraph svg, #MinerGraph svg, #MinerWorkers").removeClass("o3"),$(".AlertAPI").remove()}function LoadTimer(){clearInterval(updateCounter),$("#Timer").html('<div id="TimerPie" class="C1bk"><div id="TimerDisc" class="C0bk'+cmde+'"></div><div id="TimerText" class="texttinysvg C1">60</div></div><div id="TimerRefresh" class="C2fl C0bk'+cmde+' hide">'+$I.refresh+"</div>"),updateCounter=setInterval(function(){if(document.hasFocus()&&updateTimer--,updateTimer<=0)$("#Timer").html('<div class="C1fl preload">'+$I.refresh+"</div>"),clearInterval(updateCounter),setTimeout(function(){TimerUpdateData()},2e3);else{var t="dark"===mode?"313131":"e8e8e8",e="linear-gradient("+(360*updateTimer/60-90)+"deg, transparent 50%, #F06A25",a="y"===APICon?updateTimer:'<div class="C4fl">'+$I.x+"</div>";updateTimer<30&&(e="linear-gradient("+(90+360*updateTimer/60)+"deg, transparent 50%, #"+t),$("#TimerPie").css("background-image",e+" 50%),linear-gradient(90deg, #"+t+" 50%, transparent 50%)"),$("#TimerText").html(a)}},1e3)}function TimerUpdateData(){ClearAlert(),$.when(dta("alert"),dta("netheight"),dta("block"),dta("net"),dta("pool")).then(function(){if(graph_MainNet(),load_MinerAccount(),updateTimer=60,LoadTimer(),$D.alert&&$D.alert.created)if($.cookie("SupportXMRNews")==$D.alert.created)$("#News").addClass("hide");else{var t='<div class="textmed">'+$D.alert.subject+'<div class="NewsTime texttiny">('+Ago($D.alert.created)+' Ago)</div></div><div class="text shimtop10">'+$D.alert.body+'</div><div class="Close C1fl">'+$I.x+"</div>";$("#News").removeClass("hide").html(t)}})}function Resize(){clearTimeout(resizeTimer),resizeTimer=setTimeout(function(){width=$("body").width(),graph_MainNet(),graph_Miner(),$("#MinerPayments").hasClass("hide")||LoadMinerPayments($("#MinerPaymentsPage").val()),setTimeout(function(){XMRHashTruncate(),init_MinerWorkers()},400)},250)}function ToggleMode(){var t=["C0","C0fl","C0bk","C0st","C3","C3fl"],e={light:{f:"454545",b:"efefef"},dark:{f:"b3b3b3",b:"3b3b3b"}},a="dark"===mode?"light":"dark";$("#Mode").html($I[a]);for(var s=0;s<=5;s++)$("."+t[s]+"-"+a.charAt(0)).each(function(){$(this).removeClass(t[s]+"-"+a.charAt(0)).addClass(t[s]+"-"+mode.charAt(0))});$(".C0fl-l,.C0fl-d").css("fill","#"+e[mode].b),$(".C0st-l,.C0st-d").css("stroke","#"+e[mode].b),$(".C3fl-l, .C3fl-l").css("fill","#"+e[mode].f)}function CookieRead(){var t=$.cookie("SupportXMRAddr"),e=$.cookie("SupportXMRPref"),a=0,s={};if(t)if(0<=t.indexOf("#")){var o=t.split("#");for(a=0;a<o.length;a++)s[a]=o[a]}else s[0]=t;e&&($M.pref=e),$M.addr=s}function CookieAddrEdit(t,e){var a,s={},o="",r=0,i=Object.keys($M.addr).length;if("add"===e&&(o=s[0]=t,r++),$M.addr&&0<i)for(var d=0;d<i;d++)$M.addr[d]&&(a=$M.addr[d],r<25&&a!==t&&(s[r]=a,o+=0!==r?"#"+a:a,r++));else o=t;$M.addr=s,"del"===e&&(reset_MinerAccount(),$M.addr[0]&&(addr=$M.addr[0],$("#MinerAddress").val(addr)),load_MinerAccount()),$.removeCookie("SupportXMRAddr",{path:"/"}),$.cookie("SupportXMRAddr",o,{expires:365,path:"/"}),MultipleAddress()}function CookiePrefEdit(t,e){var a="D"===$M.pref[0]?"D":"L",s=("R"===$M.pref[1]?"R":"N")+("D"===$M.pref[2]?"D":"A");"mode"===t?a=e:"sort"===t&&(s=e),$M.pref=a+s,$.removeCookie("SupportXMRPref",{path:"/"}),$.cookie("SupportXMRPref",a+s,{expires:365,path:"/"})}function MultipleAddress(){var t=Object.keys($M.addr).length;if($("#MinerAddrRecent, #MinerAddrDelete").remove(),$M.addr&&1<t){ins='<div id="MinerAddrRecent"><select class="C3'+cmde+" C0bk"+cmde+' texttinysvg"><option value="">Recent</option>';for(var e=0;e<t;e++)if($M.addr[e]){var a=$M.addr[e];ins+='<option value="'+a+'">'+a.substring(0,3)+"..."+a.substr(a.length-4)+"</option>"}$("#MinerAddress").addClass("MinerAddressMulti"),$("#MinerAddressCell").prepend(ins+'</select><div class="select-point C1fl rot90">'+$I.arrow+'</div></div><div id="MinerAddrDelete" class="C1fl hov">'+$I.delete+"</div>")}else $("#MinerAddress").removeClass("MinerAddressMulti")}function Navigate(t){MainLoaderOn(),$("#Stage").removeClass("StageFade"),$(".nav").each(function(){$(this).removeClass("o5")}),setTimeout(function(){0<=["blocks","payments","help"].indexOf(t)?($("#Stage, #NetGraph").addClass("short"),"blocks"===t?pge_Blocks():"payments"===t?pge_Payments():"help"===t&&pge_Help(),graph_MainNet()):($("#Stage, #NetGraph").removeClass("short"),pge_Home(),graph_MainNet(),load_MinerAccount()),$("#HeadMenu select").val(t),$('.nav[data-tar="'+t+'"]').addClass("o5")},300)}function Pagination(t,e,a,s){s=1<s?parseInt(s):1,e=25<=e?e:25;var o=$("#"+t),r=Math.ceil(a/e),i="textmed",d=2<=s?s-1:1,n=s<r?s+1:r,l=1==s?"C2fl o5 nopoint":"C1fl hov",c=s==r?"C2fl o5 nopoint":"C1fl hov";width<700?i="texttable":width<600&&(i="texttiny"),o.html('<table><tr><td><div class="PagBtn" data-page="'+d+'"><div class="'+l+' rot180">'+$I.arrow+'</div></div></td><td><input type="text" class="PagBox texttable C1 C1br" value="'+s+'" autocomplete="off" data-tot="'+r+'"></td><td class="'+i+" C3"+cmde+'">of '+Num(r)+' Pages</td><td><select class="PagSel texttable C1 C1br"><option>25</option><option>50</option><option>100</option></select></td><td><div class="PagBtn" data-page="'+n+'"><div class="'+c+'">'+$I.arrow+"</div></div></td></tr></table>"),o.find(".PagSel").val(e),PaginationBoxWidth(o.find(".PagBox"))}function PaginationBoxWidth(t){var e=t.val().replace(/\D/g,""),a=parseInt(t.attr("data-tot")),s=19;999<e?(s=9999<e?50:42,a<e&&(e=a),e=Num(e)):99<e?s=32:9<e&&(s=24),t.css("width",s+"px").val(e)}function pge_Home(){var t='<section id="News" class="C1br C0bk'+cmde+" C3"+cmde+' LR85 hide shimtop20"></section><section id="MinerAccount"><table class="LR85 shim20 TDPadS C3'+cmde+'"><tr><td width="99%"><div class="hbar"></div><div id="MinerAddressCell"><input id="MinerAddress" type="text" class="FLD'+cmde+" text C3"+cmde+'" placeholder="Your Monero Address..." value="'+addr+'"></div><div class="hbar"></div></td><td><div id="MinerPending" class="textlrg">--</div><div class="hbar shim4"></div><div class="texttiny C2 center">XMR Pending</div></td><td><div id="MinerPaymentsBtn" class="btnback nopoint"><div class="Loader C1fl">'+$I.loader+'</div></div></td><td><div id="MinerPaid" class="textlrg">--</div><div class="hbar shim4"></div><div class="texttiny C2 center">XMR Paid</div></td></tr></table></section><div class="hbar"></div><section id="MinerPayments" class="hide"></section><section id="MinerGraph"></section><section id="MinerWorkers"><table class="TDPadM LR85 C3'+cmde+'"><tr><td width="33%" class="center"><div id="MinerHashes" class="textlrg o5">--</div><div class="hbar LR80 o5 shim4"></div><div class="texttiny C2">Total Hashes</div></td><td width="33%" class="center"><div id="MinerWorkerCount" class="textlrg o5">--</div><div class="hbar LR80 o5 shim4"></div><div id="MinerLastHash" class="texttiny C2 o5">--</div></td><td width="33%" class="center"><div id="MinerShares" class="textlrg o5">-- / --</div><div class="hbar LR80 o5 shim4"></div><div class="texttiny C2">Valid / Invalid Shares</div></td></tr></table><div id="MinerWorkersList" class="LR85 shimtop20"></div></section>';$("#Stage").html(t).addClass("StageFade")}function load_MinerAccount(){addr&&xmrreg.test(addr)?($("#MinerPaymentsBtn").addClass("nopoint").html('<div class="Loader C1fl">'+$I.loader+"</div>"),$.when(dta("account")).done(function(t){if($A[addr]){graph_Miner(),MultipleAddress(),$("#MinerPending").removeClass("o5").html($A[addr].due);var e=8;99999<$A[addr].paid?e=4:9999<$A[addr].paid?e=5:999<$A[addr].paid?e=6:99<$A[addr].paid&&(e=7),$("#MinerPaid").removeClass("o5").html(Rnd($A[addr].paid,e)),$("#MinerHashes").removeClass("o5").html(Num($A[addr].hashes)),$("#MinerShares").removeClass("o5").html(Num($A[addr].val)+" / "+Num($A[addr].inv)),$.when(dta("workers",addr)).done(function(t){var e=$A[addr].wrkrs&&0<Object.keys($A[addr].wrkrs).length?Object.keys($A[addr].wrkrs).length:0,a=1===e?"Worker":"Workers";$("#MinerPaymentsBtn").removeClass("nopoint C0fl"+cmde).addClass("C1fl hov").html($I.settings),$("#MinerWorkerCount").removeClass("o5").html(e+" "+a),$("#MinerLastHash").html("--"),init_MinerWorkers()})}else reset_MinerAccount(),$("#MinerGraph").html('<div class="MinerMsg C3'+cmde+'"><div class="textmed">Address Not Found</div><div class="LR80 text shim10">If you\'ve submitted your first share, be patient, it may take a minute or two to update. If your shares are being rejected, visit the <u class="nav C1" data-tar="help">help section.</u></div></div>');MainLoaderOff()})):(reset_MinerAccount(),$("#MinerGraph").html('<div class="MinerMsg C3'+cmde+'"><div class="textmed">Welcome to SupportXMR.com</div><div class="LR80 text shim10">Visit the <u class="nav C1" data-tar="help">help section</u> to get setup, then enter your Monero address above. After you\'ve submitted a share, your information will appear here.</div></div>'))}function reset_MinerAccount(){$("#MinerWorkersList, #MinerGraph").html(""),$("#MinerPayments").empty().addClass("hide"),$("#MinerPaymentsBtn").addClass("nopoint").html('<div class="C2fl o5">'+$I.settings+"</div>"),$("#MinerPending, #MinerPaid, #MinerHashes, #MinerLastHash, #MinerWorkerCount").addClass("o5").html("--"),$("#MinerShares").addClass("o5").html("-- / --")}function init_MinerWorkers(o){if($A[addr].wrkrs){var r,i=$A[addr].wrkrs,d=Object.keys(i).length,n=0,t="",e='<table id="WorkerSortGroup" class="TDPadS texttiny C2 hide"><tr><td><div class="WorkerSort C2bk C0fl'+cmde+'" data-col="name" data-ord="D">'+$I.sort+'</div></td><td NOWRAP>Sort by Name</td><td width="99%"></td><td NOWRAP>Sort by Hashrate</td><td><div class="WorkerSort C2bk C0fl'+cmde+' nopoint" data-col="rate" data-ord="D">'+$I.sort+"</div></td></tr></table>",a="name",s="A",l=[];for("R"===$M.pref.charAt(1)?a="rate":"N"===$M.pref.charAt(1)&&(a="name"),0<=["A","D"].indexOf($M.pref.charAt(2))&&(s=$M.pref.charAt(2)),r=0;r<d;r++)l.push([r,i[r][a]]);for("name"===a?(l.sort(function(t,e){return t[1].toLowerCase().localeCompare(e[1].toLowerCase())}),"D"===s&&l.reverse()):"rate"===a&&("D"===s?l.sort(function(t,e){return-(t[1]-e[1])}):l.sort(function(t,e){return t[1]-e[1]})),r<8&&(t=" WBlockFewGrid"),r=0;r<d;r++){var c=l[r][0];e+='<div class="WWrap'+t+'"><div class="WBlock C1br C2br_hov C3'+cmde+' " data-key="'+c+'"><div id="WName-'+c+'" class="textmed WBL"></div><div id="WRate-'+c+'" class="textmed WBR">--</div><div id="WHashes-'+c+'" class="texttiny WBL"></div><div id="WLast-'+c+'" class="texttiny WBR">--</div><div id="WVal-'+c+'" class="Expand hide texttiny WBL"></div><div id="WInv-'+c+'" class="Expand hide texttiny WBR">--</div><div class="WorkerChart" data-worker="'+c+'"></div></div></div>'}for($("#MinerWorkersList").html(e+'<div class="clear"></div>'),r=0;r<d;r++)$("#WName-"+l[r][0]).html(Truncate(i[l[r][0]].name,Rnd($("#WName-0").width()/6.25)));sort_MinerWorkers(r,a,s,o),r=0,$.each(l,function(t,e){var s=e[0];$.when(dta("worker",s,i[s].name)).done(function(t){if(0<i[s].rate){var e=ConvHash(i[s].rate),a=i[s].last;$("#WRate-"+s).html(e.num+" "+e.unit),0<a&&(SynchTime($A[addr].wrkrs[s].last),$("#WLast-"+s).html(Ago(a)+" Ago"),n<a&&(n=a)),i[s].history&&graph_Worker(s)}else $('.WBlock[reference="'+s+'"]').addClass("C4br"),$('.WBlock[reference="'+s+'"] table').addClass("C4");"y"!==o&&r===d-1&&($("#MinerLastHash").removeClass("o5").html(Ago(n)+" Ago"),init_MinerWorkers("y")),r++})})}}function sort_MinerWorkers(t,e,a,s){if(1<t){$("#WorkerSortGroup").removeClass("hide");var o="D",r="rot270";if("D"===a&&(o="A",r="rot90"),"y"===s)"rate"===e?($('.WorkerSort[data-col="name"]').removeClass("C1bk").addClass("hov C2bk").html($I.sort),$('.WorkerSort[data-col="rate"]').attr("data-ord",o).removeClass("nopoint C2bk").addClass("hov C1bk "+r).html($I.arrow)):"name"===e&&($('.WorkerSort[data-col="name"]').attr("data-ord",o).removeClass("C2bk").addClass("hov C1bk "+r).html($I.arrow),$('.WorkerSort[data-col="rate"]').removeClass("nopoint C1bk").addClass("hov C2bk").html($I.sort));else{var i='<div class="preload C0fl'+cmde+'">'+$I.refresh+"</div>";"rate"===e?($('.WorkerSort[data-col="name"]').removeClass("C1bk").addClass("hov C2bk C0fl"+cmde).html($I.sort),$('.WorkerSort[data-col="rate"]').attr("data-ord",o).removeClass("hov C2bk").addClass("nopoint C1bk").html(i)):"name"===e&&($('.WorkerSort[data-col="name"]').attr("data-ord",o).removeClass("C2bk").addClass("hov C1bk "+r).html($I.arrow),$('.WorkerSort[data-col="rate"]').removeClass("hov C1bk").addClass("nopoint C2bk").html(i))}}}function load_MinerWorkerDetail(e){var a=$A[addr].wrkrs[e];$.when(dta("workerdetail",e,a.name)).done(function(t){$("#WHashes-"+e).html(Num(a.hashes)+" Hashes"),$("#WVal-"+e).html(Num(a.val)+" Valid"),$("#WInv-"+e).html(Num(a.inv)+" Invalid")})}function pge_Blocks(t,e){t=1<t?t:1,e=25<=e?e:25,$("#Stage").html('<table class="LR80 C3'+cmde+'  shim20"><tr><td id="BlockHeader" class="textmed"></td><td class="right texttiny"><div id="BlocksPag" class="Pag"></div></td></tr></table><div class="hbar shim4"></div><div id="BlockList" class="LR80"></div>').addClass("StageFade"),dta_Blocks(t,e)}function dta_Blocks(e,a){$("#BlockList").html(loadgrp),$.when(dta("poolstats")).done(function(t){$("#BlockHeader").html(Num($D.poolstats.blocks)+" Blocks Found with "+Num($D.poolstats.hashes)+" Hashes"),1==e?($D.blockhistory=$D.block,tbl_Blocks(e,a)):$.when(dta("blockhistory",e,a)).done(function(t){tbl_Blocks(e,a)})})}function tbl_Blocks(t,e){for(var a='<table class="contable shim4 C3'+cmde+' "><tr class="texttiny"><td width="70">Block Mined</td><td width="90" class="center">Maturity</td><td width="70" class="center">Effort</td><td width="90" class="center">Reward (XMR)</td><td class="right">Transaction</td><td width="90" class="right">Block Height</td></tr>',s="ROW0",o=0;o<e;o++){s=o%2==0?"ROW1":"ROW0";var r=100<$D.blockhistory[o].eff?"C4":"C5";a+='<tr class="texttable '+s+'"><td>'+Ago($D.blockhistory[o].tme)+' Ago</td><td class="center">'+BlockToGo($D.blockhistory[o].height)+'</td><td class="center"><span class="'+r+'">'+$D.blockhistory[o].eff+'%</span></td><td class="center">'+$D.blockhistory[o].reward+'</td><td class="XMRHash right" data-hash="'+$D.blockhistory[o].hash+'"></td><td class="right">'+Num($D.blockhistory[o].height)+"</td></tr>"}$("#BlockList").html(a+"</table>"),XMRHashTruncate(),Pagination("BlocksPag",e,$D.poolstats.blocks,t),MainLoaderOff()}function pge_Payments(e,a){e=1<e?e:1,a=25<=a?a:25,$("#Stage").html('<table class="LR80 C3'+cmde+'  shim20"><tr><td id="PaymentHeader" class="textmed"></div></td><td class="right texttiny"><div id="PaymentPag" class="Pag"></div></td></tr></table><div class="hbar shim4"></div><div id="PaymentList" class="LR80"></div>').addClass("StageFade"),$.when(dta("poolstats")).done(function(t){$("#PaymentHeader").html(Num($D.poolstats.payments)+" Payments to "+Num($D.poolstats.minerspaid)+" Miners"),dta_Payments(e,a)})}function dta_Payments(s,o){$("#PaymentList").html(loadgrp),$.when(dta("poolpay",s,o)).done(function(t){for(var e='<table class="contable shim4 C3'+cmde+' "><tr class="texttiny"><td width="70">Payment Sent</td><td width="50" class="center">Payees</td><td>Transaction</td><td width="80" class="center">Amount (XMR)</td><td width="80" class="right">Fee (XMR)</td></tr>',a=0;a<o;a++)e+='<tr class="texttable '+(a%2==0?"ROW1":"ROW0")+'"><td>'+Ago($D.poolpay[a].ts/1e3)+' Ago</td><td class="center">'+$D.poolpay[a].payees+'</td><td class="XMRHash" data-hash="'+$D.poolpay[a].hash+'"></td><td class="center">'+ConvAtomicXMR($D.poolpay[a].value)+'</td><td class="right">'+ConvAtomicXMR($D.poolpay[a].fee)+"</td></tr>";$("#PaymentList").html(e+"</table>"),XMRHashTruncate(),Pagination("PaymentPag",o,$D.poolstats.payments,s),MainLoaderOff()})}function pge_Help(){setTimeout(function(){var t='<table class="LR80 C3'+cmde+' shim20"><tr><td id="BlockHeader" class="textmed">Welcome to SupportXMR.com</td><td class="right texttiny">Join Us on IRC<br>#monero-pools</td></tr></table><div class="hbar shim4"></div><div class="LR80 text C3'+cmde+' shim30"><p>Getting started is easy and this pool has a large and friendly community that are happy to help you. The pool operators are M5M400 and Snipa22 who can be reached in the #monero-pools IRC or at <a href="mailto:support@supportxmr.com" class="C1 hov">support@supportxmr.com</a>. Please be patient and someone will get back to you. Most of the time help can be found quicker in the chat.</p><p>The pool has a quite stable and knowlegable community - you can join the chat and seek help and a friendly chat there :)</p><div class="helpgroup"><div class="helptitle"><div class="helpbtn btnback C1fl">'+$I.arrow+'</div><span class="helpbtntext point textlrg C1">Step 1 - Install Wallet & Create Address</span></div><div class="helpteaser text ">Start here if you need a Monero address and wallet.</div><div class="helpcontent text hide"><p>The <a href="https://www.getmonero.org/downloads/" target="_blank" class="C1 hov">Official Monero Wallet</a> is recommended. Monero Outreach\'s <a href="https://www.monerooutreach.org/stories/monero_wallet_quickstart.php" class="C1 hov" target="_blank">Wallet Guide</a> has a list of other wallet options including paper wallets.</p></div></div><div class="helpgroup"><div class="helptitle"><div class="helpbtn btnback C1fl">'+$I.arrow+'</div><span class="helpbtntext point textlrg C1">Step 2 - Install Mining Software</span></div><div class="helpteaser text">Install the software needed to mine Monero.</div><div class="helpcontent text hide"><p>Select the miner that best suits your hardware and follow their installation instructions. If you need help, visit #monero-pools.</p><p><table class="texttable C3'+cmde+'"><tr><td NOWRAP><i>Alphabetically</i><br><a href="https://github.com/KlausT/ccminer-cryptonight/releases" class="C1 hov" target="_blank">ccminer-cryptonight</a> (Nvidia)<br><a href="https://bitcointalk.org/index.php?topic=638915.0" class="C1 hov" target="_blank">Claymore\'s miner</a> (CPU, AMD)<br></td><td NOWRAP><a href="https://github.com/Dead2/CryptoGoblin/releases" class="C1 hov" target="_blank">CryptoGoblin</a> (CPU, Nvidia, AMD)<br><a href="https://github.com/xmrig/xmrig/" class="C1 hov" target="_blank">XMRig</a> (CPU, Nvidia, AMD)<br><a href="https://github.com/fireice-uk/xmr-stak/releases" class="C1 hov" target="_blank">XMR-Stak</a> (CPU, Nvidia, AMD)</td></tr></table></p></div></div><div class="helpgroup"><div class="helptitle"><div class="helpbtn btnback C1fl">'+$I.arrow+'</div><span class="helpbtntext point textlrg C1">Step 3 - Configure Settings</span></div><div class="helpteaser text ">Select a pool server and port and configure you miner.</div><div class="helpcontent text hide"><p>Each mining software will have it\'s own config, but they will all ask for the same information:</p><p><b>Your Monero Address</b><br>Often this will be labeled username, but check the instructions. You can specify a paymentID by using the following format: <i>address</i>.<i>paymentID</i></p><p><b>Pool Address</b><br>The miner will want a url and a port, like this: pool.supportxmr.com:3333</p><p><table class="texttable C3'+cmde+'"><tr><td><p>Port descriptions:</p><ul><li>3333 Low-end CPU</li><li>5555 Fast/Multi CPU</li><li>7777 GPU rigs</li><li>9000 SSL/TLS</li></ul></td><td><p>If you can\'t get through firewall, try these:</p><ul><li>8080 Firewall bypass</li><li>80 Firewall bypass</li><li>443 Firewall bypass w/SSL/TLS</li></ul></td></tr></table></p><p><b>Optional Fields</b><br>You can also set worker names or fixed difficulty through the configuration.</p><p>Standard wallet address<br><i>(e.g. miner.exe -u 43T...sUW -p Steve)</i></p><p>Fixed difficulty of 3500 for the worker<br><i>(e.g. miner.exe -u 43T...sUW+3500 -p Steve)</i></p></div></div><div class="helpgroup"><div class="helptitle"><div class="helpbtn btnback C1fl">'+$I.arrow+'</div><span class="helpbtntext point textlrg C1">Step 4 - Start Mining</span></div><div class="helpteaser text">Launch the miner and learn more.</div><div class="helpcontent text hide"><p>This pool uses PPLNS to determine payouts. It helps to combat pool hopping and ensures a good payout for miners.</p><p>0.6% Pool Fee</p><p>0.1 XMR Default Payout</p><p>60 Block Confirmation Time</p></div></div></div>';$("#Stage").html(t).addClass("StageFade"),ToggleMode(),MainLoaderOff()},1e3)}function LoadMinerPayments(r){r?r=1<parseInt(r)?parseInt(r):1:(r=1,$("#MinerPayments").removeClass("hide").css("height","0").html(loadgrp),$("#MinerPayments").animate({height:275},300)),$.when(dta("pay",addr,r)).done(function(t){$("#MinerPayments").html('<div class="LR85"><div id="MinerPaymentsStatus"></div><div id="MinerPaymentsList"></div></div>');var e=0,a=0<$A[addr].due?"C1bk C2bk_hov point":"C2bk o3",s='<div id="MinerPayNow" class="PanelCenter textmed C0'+cmde+'"><div id="MinerPayNowBtn" class="PaymentButton '+a+'">PAY '+$A[addr].due+' XMR NOW</div><div class="hbar shim10 LR80"></div><div class="PaymentButton C1bk o5">AUTO PAY AT 0.1 XMR</div></div>';$("#MinerPaymentsStatus").html(s),s='<input type="hidden" id="MinerPaymentsPage" value="'+r+'"><table class="C3'+cmde+" C0bk"+cmde+' texttable">';for(var o=0;o<10;o++)$D.pay[o]&&$D.pay[o].amnt&&(s+='<tr class="'+(o%2==0?"ROW1":"ROW0")+'"><td NOWRAP>'+Ago($D.pay[o].tme)+" Ago</td><td>"+Rnd($D.pay[o].amnt,8)+'</td><td class="XMRHash" data-hash="'+$D.pay[o].hash+'"></td></tr>',e++);s+="</table>",$("#MinerPaymentsList").html(s),$("#MinerPaymentsBtn").html('<div class="Closer">'+$I.x+"</div>"),0<e?(s="",1<r&&(s+='<div id="PaymentPagBtnL" class="PaymentPag C1bk C2bk_hov rot180 C0fl'+cmde+'" data-page="'+(r-1)+'">'+$I.arrow+"</div>"),10===e&&(s+='<div id="PaymentPagBtnR" class="PaymentPag C1bk C2bk_hov C0fl'+cmde+'" data-page="'+(r+1)+'">'+$I.arrow+"</div>"),s&&$("#MinerPaymentsList").append(s)):1<r&&LoadMinerPayments(r-1),XMRHashTruncate()})}function CloseMinerPayments(){$("#MinerPayments").empty().animate({height:0},200),$("#MinerPaymentsBtn").html($I.settings),setTimeout(function(){$("#MinerPayments").addClass("hide")},220)}function dta(o,r,t){now=Rnd((new Date).getTime()/1e3);var i=new $.Deferred,d=0,e="",a=graph_Duration(),n=now-3600*a;if("alert"===o&&now>$M.updt.alert+3600)e="pool/motd";else if("block"===o)e="pool/blocks?limit=100";else if("blockhistory"===o)e="pool/blocks?page="+r+"&limit="+t;else if("net"===o&&now>$M.updt.net+300)e="network/chart/difficulty?timeScale=10";else if("pool"===o&&now>$M.updt.net+300)e="pool/chart/hashrate?timeScale=10";else if("netheight"===o)e="network/stats";else if("poolpay"===o){e="pool/payments?page="+(r-1)*t+"&limit="+t}else"poolstats"===o&&now>$M.updt.pool+300?e="pool/stats":"account"===o?e="miner/"+addr+"/stats":"pay"===o?(e="miner/"+r+"/payments",t&&(e+="?page="+(t=1<t?10*(t-1):0)+"&limit=10")):"workers"===o&&(jQuery.isEmptyObject($A[addr].wrkrs)||now>$M.updt.worker+180)?e="miner/"+addr+"/identifiers":"minershash"===o?e="miner/"+addr+"/chart/hashrate/":"worker"===o&&$A[addr]&&$A[addr].wrkrs[r]?jQuery.isEmptyObject($A[addr].wrkrs[r].history)||now>$A[addr].wrkrs[r].updt+180?e="miner/"+addr+"/chart/hashrate/"+t:console.log("SKIP"):"workerdetail"===o&&(e="miner/"+addr+"/stats/"+t);return e?(console.log(o+":"+e),$.ajax({url:"https://supportxmr.com/api/"+e,dataType:"json",type:"GET",success:function(t){if(t){var e=Object.keys(t).length;if(0<=["alert","poolpay"].indexOf(o))$D[o]=t,"alert"===o&&($M.updt.alert=now);else if(0<=["block","blockhistory","net","pool","pay"].indexOf(o)){for($D[o]={},d=0;d<e;d++){var a=t[d],s=Rnd(a.ts/1e3);0<=["block","blockhistory"].indexOf(o)?("blockhistory"===o||n<=s)&&($D[o][d]={tme:s,hash:a.hash,height:a.height,reward:ConvAtomicXMR(a.value),eff:Rnd(a.shares/a.diff*100)}):"net"===o?n<=s&&($D[o][d]={tme:s,hash:Rnd(a.diff/120)}):"pool"===o?n<=s&&($D[o][d]={tme:s,hash:a.hs}):"pay"===o&&($D[o][d]={tme:a.ts,hash:a.txnHash,amnt:ConvAtomicXMR(a.amount)})}"net"===o&&($M.updt.net=now)}else if("netheight"===o)$D[o]=t.height;else if("poolstats"===o)$D[o]={blocks:t.pool_statistics.totalBlocksFound,hashes:t.pool_statistics.totalHashes,payments:t.pool_statistics.totalPayments,minerspaid:t.pool_statistics.totalMinersPaid},$M.updt.pool=now;else if("account"===o)0<t.validShares&&($A[addr]={due:ConvAtomicXMR(t.amtDue),paid:ConvAtomicXMR(t.amtPaid),hashes:t.totalHashes,last:t.lastHash,val:t.validShares,inv:t.invalidShares,workers:{}});else if("workers"===o)for($A[addr].wrkrs={},$M.updt.worker=now,d=0;d<e;d++)$A[addr].wrkrs[d]={},$A[addr].wrkrs[d].name=t[d];else if("minershash"===o)for($A[addr].rate={},d=0;d<e;d++){s=Rnd(t[d].ts/1e3);n<=s&&($A[addr].rate[d]={tme:s,hash:t[d].hs})}else if("worker"===o){for($A[addr].wrkrs[r].history={},d=0;d<e;d++){s=Rnd(t[d].ts/1e3);now-21600<=s&&($A[addr].wrkrs[r].history[d]={tme:s,hsh:t[d].hs})}$A[addr].wrkrs[r].last=$A[addr].wrkrs[r].history[0].tme,$A[addr].wrkrs[r].rate=$A[addr].wrkrs[r].history[0].hsh,$A[addr].wrkrs[r].updt=now}else"workerdetail"===o&&($A[addr].wrkrs[r].hashes=t.totalHash,$A[addr].wrkrs[r].val=0<t.validShares?t.validShares:0,$A[addr].wrkrs[r].inv=0<t.invalidShares?t.invalidShares:0);i.resolve()}else console.log("err"),i.resolve()},error:function(t,e){console.log(e)}})):i.resolve(),i.promise()}function OpenToolTip(t){$("#Dot"+t).attr("class",$("#Dot"+t).attr("class")+" C1flim");var e=$D.blockxy[t].x,a=$D.blockxy[t].y,s=$D.block[t].eff,o=28,r=e-35;999<s?(o=40,r=e-47):99<s&&(o=34,r=e-40.5),$("#TipText_Effort").attr({x:e-10,y:a+2}).html(s+"%"),$("#TipText_EffortBox").attr({x:r,y:a-8,width:o}),$("#TipText_Time").attr({x:e+11,y:a+2}).html(Ago($D.block[t].tme)+" Ago"),$("#TipText_TimeBox").attr({x:e+7,y:a-8})}function CloseToolTip(t){$("#Dot"+t).attr("class",$("#Dot"+t).attr("class").replace(" C1flim","")),$("#TipText_Effort, #TipText_Time, #TipText_EffortBox, #TipText_TimeBox").attr({x:"-1000",y:"-1000"})}function graph_Grid(t,e,a,s,o,r,i){for(var d="",n=(a-s)/e,l="C2"===i?"":cmde,c=e-1;1<=c;c--){var h=Rnd(o-n*c/((a-s)/o),1);if("line"===t)d+='<line x1="50" y1="'+h+'" x2="'+r+'" y2="'+h+'" class="line '+i+"st"+l+' o8" />';else if("lbl"===t){var p=ConvHash(n*c);d+='<text x="5" y="'+(h+3)+'" class="'+i+"fl"+l+' texttinysvg">'+p.num+" "+p.unit+"</text>"}}return d}function graph_Duration(){var t=8;return width<600?t=3:width<800?t=4:width<1200&&(t=6),t}function graph_MainNet(){if($("#NetGraph").length&&$D.net[0]&&$D.net[0].hash){var t,e,a,s=$("#NetGraph"),o=999999999999,r=0,i=0,d=Object.keys($D.net).length,n=Object.keys($D.pool).length,l=Object.keys($D.block).length,c={n:{},p:{}},h=0,m=parseInt(s.height()),v=75<m?"y":"n",f=m-("y"==v?19:0),u="y"==v?6.5:4.5,g="y"==v?1.25:.75,y=900<width?55:50,C=width-y,x=graph_Duration(),k=now-3600*x,b=ConvHash($D.net[0].hash),M=ConvHash($D.pool[0].hash),w='<svg viewBox="0 0 '+width+" "+f+'" class="chart"><defs><linearGradient id="P"><stop offset="0%" stop-color="#F06923" stop-opacity="0.99" /><stop offset="100%" stop-color="#F06923" stop-opacity="0.02" /></linearGradient></defs>';for(i=0;i<d;i++)$D.net[i].hash>r&&(r=$D.net[i].hash);for(i=0;i<n;i++)h+=$D.pool[i].hash,$D.pool[i].hash<o&&(o=$D.pool[i].hash);for(h/=n,t=C/(now-k),o-=.3*o,e=120*$D.net[0].hash*2/h*t,i=0;i<d;i++)c.n[i]={x:Rnd(C-(now-$D.net[i].tme)*t,1),y:Rnd(f-($D.net[i].hash-o)/(r-o)*f,1)};for(i=0;i<n;i++)c.p[i]={x:Rnd(C-(now-$D.pool[i].tme)*t,1),y:Rnd(f-($D.pool[i].hash-o)/(r-o)*f,1)};for(w+='<polygon fill="url(#P)" points="'+(C+55)+","+c.n[0].y,i=0;i<d;i++)w+=" "+c.n[i].x+","+c.n[i].y;for(w+=" -3,"+c.n[d-1].y+" -3,"+c.p[n-1].y,p=n-1;0<=p;p--){w+=" "+(0===p?width+2:c.p[p].x)+","+c.p[p].y}w+=" -3,"+c.p[n-1].y+" "+(width+2)+","+c.p[0].y+'" />';var P=9999999999,A=0;for(w+='<polygon class="C1fl" opacity=".75" points="'+C+","+c.n[0].y,i=0;i<d;i++)c.n[i].x>C-e&&(w+=" "+c.n[i].x+","+c.n[i].y);for(p=n-1;0<=p;p--)c.p[p].x>C-e&&(w+=" "+c.p[p].x+","+c.p[p].y,c.p[p].x<P&&(P=c.p[p].x));for(w+=" "+C+","+c.p[0].y+'" />',"y"==v&&(w+='<text x="'+(A=(C+P)/2)+'" y="20" text-anchor="middle" class="C0fl'+cmde+' texttinysvg o9">PPLNS</text><text x="'+A+'" y="30" text-anchor="middle" class="C0fl'+cmde+' texttinysvg o9">Window</text>'),w+=graph_Grid("line",3,r,o,f,width,"C0"),w+=graph_Grid("lbl",3,r,o,f,width,"C0"),w+='<polyline class="C1st" stroke-width="'+g+'" points="'+C+","+c.n[0].y,i=1;i<d;i++)w+=" "+c.n[i].x+","+c.n[i].y;for(w+=" -3,"+c.n[d-1].y+'" /><text x="'+(C+5)+'" y="'+(c.n[0].y+13)+'" class="hashlable C1fl">'+b.num+"</text>","y"==v&&(w+='<text x="'+(C+5)+'" y="'+(c.n[0].y+23)+'" class="texttinysvg C2fl o8">'+b.unit+" Net</text>"),w+='<polyline class="C1st" stroke-width="'+g+'" points="'+C+","+c.p[0].y,i=0;i<n;i++)w+=" "+c.p[i].x+","+c.p[i].y;w+=" -3,"+c.p[n-1].y+'" /><text x="'+(C+5)+'" y="'+(c.p[0].y+1)+'" class="hashlable C1fl">'+M.num+"</text>","y"==v&&(w+='<text x="'+(C+5)+'" y="'+(c.p[0].y-17)+'" class="texttinysvg C2fl o8">'+M.unit+" Pool</text>");var D,R=0,T=0,L=5+f;C=width-y;for(i=0;i<l;i++)T+=parseInt($D.block[i].eff),$D.block[i].eff>R&&(R=$D.block[i].eff);D=(f-25)/R,T=Rnd(T/l),a=Rnd((now-$D.block[0].tme)/($D.net[0].hash/$D.pool[0].hash*120)*100),$D.blockxy={};var S=0;for(i=0;i<l;i++){var _=Rnd(C-(now-$D.block[i].tme)*t,1);57<_&&($D.blockxy[i]={x:_,y:Rnd(f-10-$D.block[i].eff*D,1)},S++)}for(l=S,i=0;i<l;i++){var W=$D.block[i].eff<=100?"C5fl":"C4fl",B={0:{cl:"C1fl",sz:1},1:{cl:"o7 C0fl"+cmde,sz:.92},2:{cl:"Dot "+W,sz:.71}};w+='<g class="blockgroup point" data-block="'+i+'">';for(var N=0;N<=2;N++){w+="<circle "+(2===N?'id="Dot'+i+'"':"")+' cx="'+$D.blockxy[i].x+'" cy="'+$D.blockxy[i].y+'" r="'+u*B[N].sz+'" class="'+B[N].cl+'" />'}w+="</g>"}if("y"==v){var I=2+L,H=$D.blockxy[0].x,G=$D.blockxy[l-1].x;w+='<line x1="'+H+'" y1="'+($D.blockxy[0].y+3+u/2)+'" x2="'+H+'" y2="'+L+'" class="line C2st" /><line x1="'+H+'" y1="'+L+'" x2="'+G+'" y2="'+L+'" class="line C2st" /><line x1="'+G+'" y1="'+($D.blockxy[l-1].y+3+u/2)+'" x2="'+G+'" y2="'+L+'" class="line C2st" /><rect x="'+(G+10)+'" y="'+(f-3)+'" width="90" height="15" class="C0fl'+cmde+' o8" /><text x="'+(G+55)+'" y="'+I+'" text-anchor="middle" class="C2fl texttiny">'+T+'% Avg Effort</text><rect x="'+(H-100)+'" y="'+(f-3)+'" width="90" height="15" class="C0fl'+cmde+' o8" /><text x="'+(H-55)+'" y="'+I+'" text-anchor="middle" class="C2fl texttiny">Found '+Ago($D.block[0].tme)+' Ago</text><rect x="'+(C-7)+'" y="'+(I-8)+'" width="11" height="9" class="C0fl'+cmde+' o8" /><text x="'+(C-8)+'" y="'+I+'" class="C2fl texttiny">'+a+'% Effort</text><text x="5" y="'+I+'" class="C2fl o8 texttiny">'+Ago($D.pool[n-1].tme)+' Ago</text><line x1="'+C+'" y1="'+(L-15)+'" x2="'+C+'" y2="'+(L-7)+'" class="line C2st" /><line x1="'+H+'" y1="'+L+'" x2="'+(C-10)+'" y2="'+L+'" class="line C2st" />'}w+='<circle cx="'+C+'" cy="'+c.p[0].y+'" r="2" class="C1fl" />',w+='<rect id="TipText_EffortBox" x="-1000" y="-1000" width="35" height="14" rx="3" class="C0fl'+cmde+'" /><text id="TipText_Effort" x="-1000" y="-1000" text-anchor="end" class="C2fl texttinysvg"></text><rect id="TipText_TimeBox" x="-1000" y="-1000" width="56" height="14" rx="3" class="C0fl'+cmde+'" /><text id="TipText_Time" x="-1000" y="-1000" class="C2fl texttinysvg"></text></svg>',s.html(w),tooltip_open&&NetGraphPop(tooltip_open)}}function NetGraphPop(t){var e=$("#Dot"+t).attr("cx")>width/2?"pleft":"pright";$("#NetGraphPop").remove(),$("#NetGraph").append('<div id="NetGraphPop" class="'+e+" C0bk"+cmde+' C1br"><table class="TDPadS text C3'+cmde+'"><tr><td><div class="textmed">'+Ago($D.block[t].tme)+' Ago</div><div class="hbar LR80 o5 shim4"></div><div class="texttiny">'+$D.block[t].eff+'% Effort</div></td><td><div class="textmed">'+$D.block[t].reward+' XMR</div><div class="hbar LR80 o5 shim4"></div><div class="XMRHash texttiny" data-hash="'+$D.block[t].hash+'"></div></td><td><div class="textmed">'+BlockToGo($D.block[t].height)+'</div><div class="hbar LR80 o5 shim4"></div><div class="texttiny">Height '+Num($D.block[t].height)+'</div></td></tr></table><div id="NetGraphClose" class="C1fl hov" data-block="'+t+'">'+$I.x+'</div><div id="NetGraphClose" class="C1fl hov" data-block="'+t+'">'+$I.x+"</div></div>"),XMRHashTruncate(),OpenToolTip(t)}function graph_Miner(){$("#MinerGraph").length&&($("#MinerGraph").html(loadgrp),addr&&$A[addr]&&($A[addr].rate?graph_DrawMiner():$.when(dta("minershash")).done(function(t){graph_DrawMiner()})))}function graph_DrawMiner(){var t="",e=150,a=999999999999999,s=graph_Duration(),o=now-3600*s,r=width-65,d=$A[addr].rate,n=Object.keys(d).length,l={},c=0,h=0,p=0;for(i=0;i<n;i++)c+=d[i].hash,d[i].hash>h&&(h=d[i].hash),d[i].tme<a&&(a=d[i].tme);if(0<n){for(o<=a&&(o=a),h*=1.35,p=r/(now-o),c/=n,i=0;i<n;i++)l[i]={x:Rnd(r-(now-d[i].tme)*p,1),y:Rnd(e-d[i].hash/h*e,1)};for(t='<svg viewBox="0 0 '+width+" "+e+'" class="chart"><defs><linearGradient id="M"><stop offset="0%" stop-color="#818181" stop-opacity="0.2" /><stop offset="15%" stop-color="#818181" stop-opacity="0.3" /><stop offset="100%" stop-color="#818181" stop-opacity="1" /></linearGradient></defs>',t+=graph_Grid("line",5,h,0,e,width,"C2"),t+='<polygon class="C0fl'+cmde+'" points="'+(width+3)+","+l[0].y,i=0;i<n;i++)t+=" "+l[i].x+","+l[i].y;for(t+=" -3,"+l[n-1].y+" -3,153 "+(width+3)+',153" /><polyline stroke="url(#M)" stroke-width="2" points="'+r+","+l[0].y,i=0;i<n;i++)t+=" "+l[i].x+","+l[i].y;t+=" -3,"+l[n-1].y+'" />';var m=ConvHash(d[0].hash),v=l[0].y+2,f=l[0].y+11;120<l[0].y&&(v=l[0].y-2,f=l[0].y-19),t+='<text x="'+(3+r)+'" y="'+v+'" class="hashlable C3fl'+cmde+'">'+m.num+" "+m.unit+'</text><text x="'+(3+r)+'" y="'+f+'" class="texttinysvg C3fl'+cmde+' o7">Your Hash</text>',t+='<circle cx="'+r+'" cy="'+l[0].y+'" r="2" class="C2fl" />';var u=Rnd(e-c/h*e,2),g=ConvHash(c);t+='<line x1="55" y1="'+u+'" x2="'+l[0].x+'" y2="'+u+'" class="mineravgline C1st" /><rect x="'+(width/2-62.5)+'" y="'+(u-10)+'" width="125" height="20" rx="3" class="line C1fl" /><text x="'+width/2+'" y="'+(u+4)+'" text-anchor="middle" class="C0fl'+cmde+' texttiny">'+g.num+" "+g.unit+" Avg "+Ago(o)+"</text>",t+=graph_Grid("lbl",5,h,0,e,width,"C2")}else t='<div id="MinerGraphAlert" class="textmed C2 o5">No Data</div>';$("#MinerGraph").html(t)}function graph_Worker(t){var e=$('.WorkerChart[data-worker="'+t+'"]'),a=e.width(),s=0,o=0,r=$A[addr].wrkrs[t].history,i=Object.keys(r).length,d={},n=99999999999,l=0===$A[addr].wrkrs[t].history[0].hsh?"C4st":"C2st",c='<svg viewBox="0 0 '+a+' 19" class="chart"><defs><linearGradient id="F" gradientTransform="rotate(90)"><stop offset="0%" stop-color="#000" stop-opacity="0.07" /><stop offset="100%" stop-color="#000" stop-opacity="0.03" /></linearGradient></defs>';for(s=0;s<i;s++)r[s].hsh>o&&(o=r[s].hsh),r[s].tme<n&&(n=r[s].tme);for(s=0;s<i;s++)d[s]={x:Rnd(a-(now-r[s].tme)*(a/(now-n)),1),y:Rnd(19-r[s].hsh*(19/o),1)};for(c+='<polygon fill="url(#F)" points="'+(a+2)+","+d[0].y,s=0;s<i;s++)c+=" "+d[s].x+","+d[s].y;for(c+=" -2,"+d[i-1].y+" -2,21 "+(a+2)+',21" /><polyline stroke-width="1.25" class="'+l+'" points="'+(a+2)+","+d[0].y,s=0;s<i;s++)c+=" "+d[s].x+","+d[s].y;e.html(c+'" /></svg>')}function Ago(t){var e=now-parseInt(t);return e<60?e+=" Sec":e=e<=3600?Rnd(e/60)+" Min":e<=86400?Rnd(e/60/60)+" Hrs":Rnd(e/60/60/24)+" Days",e}function Num(t){return t.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}function ConvAtomicXMR(t){return t=(t=0<t?Math.round(t/1e4)/1e8:0).toFixed(8).toLocaleString("fullwide",{useGrouping:!1})}function Rnd(t,e){if(1<=e){var a=Math.pow(10,e);return Math.round(t*a)/a}return Math.round(t)}function XMRHashTruncate(){$("#Stage, #NetGraph").find(".XMRHash").each(function(t,e){var a=$(this),s=txt=a.attr("data-hash"),o=Math.floor(a.width()/7.02/2);s.length>2*o&&(txt=s.substring(0,o-1)+"..."+s.slice(2-o)),a.html('<a href="https://xmrchain.net/block/'+s+'" target="_blank" class="C1 hov">'+txt+"</a>")})}function ConvHash(t){var e=1,a={num:0,unit:"H/s"};return 1e6<(t=0<t?t:0)?(e=1e6,a.unit="MH/s"):1e3<t&&(e=1e3,a.unit="KH/s"),a.num=Rnd(t/e,1),a}function BlockToGo(t){var e=60-($D.netheight-t);return e<=0?"Confirmed":e+" To Go"}function SynchTime(t){now<t&&(now=t+3)}function Truncate(t,e){return t&&0<t.length&&0<e&&t.length>e?t.substring(0,e-3)+"...":t}function getUrlVars(){for(var t,e=[],a=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),s=0;s<a.length;s++)t=a[s].split("="),e.push(t[0]),e[t[0]]=t[1];return e}$(function(){$("#Mode").append($I.dark),$("#Timer").html('<div class="C1fl preload">'+$I.refresh+"</div>"),$("#HeadMenu .select-point").html($I.arrow),CookieRead(),""==addr&&$M.addr[0]&&(addr=$M.addr[0]),"light"===mode&&$M.pref&&"D"===$M.pref.charAt(0)&&(mode="dark",cmde="-d",ToggleMode()),pge_Home(),TimerUpdateData(),$(window).on("resize",function(){Resize()}),$(document.body).on("change","#MinerAddress, #MinerAddrRecent select",function(t){addr=$(this).val(),$("#MinerAddrRecent select").val(""),$("#MinerAddress").val(addr),reset_MinerAccount(),xmrreg.test(addr)?($("#MinerAddress").removeClass("C4"),CookieAddrEdit(addr,"add"),load_MinerAccount()):($("#MinerAddress").addClass("C4"),$("#MinerGraph").html('<div class="MinerMsg C3'+cmde+'"><div class="textmed">Invalid Monero Address</div><div class="LR80 text shim10">Double check that your address is complete.</div></div>'))}),$("#Stage").on("touchstart click","#MinerAddrDelete",function(t){t.stopPropagation(),CookieAddrEdit($("#MinerAddress").val(),"del")}),$("#HeadMenu select").on("change",function(t){var e=$(this),a=e.val();"testnet"===a?(e.val("home"),LoadAlert("NetGraph")):"testuser"===a?(e.val("home"),LoadAlert("MinerGraph")):Navigate(a)}),$(document.body).on("mouseenter","#HeadMenu, #MinerAddrRecent",function(){$(this).find(".select-point").addClass("o5")}).on("mouseleave","#HeadMenu, #MinerAddrRecent",function(){$(this).find(".select-point").removeClass("o5")}),$(document.body).on("touchstart click",".nav",function(t){t.stopPropagation(),Navigate($(this).attr("data-tar"))}),$("#Mode").on("click",function(t){t.stopPropagation(),cmde="dark"===(mode="dark"===mode?"light":"dark")?"-d":"-l",ToggleMode(),CookiePrefEdit("mode",mode.charAt(0).toUpperCase())}),$("header").on("mouseenter","#Timer",function(){$("#TimerRefresh").removeClass("hide")}).on("mouseleave","#Timer",function(){$("#TimerRefresh").addClass("hide")}),$("#Timer").on("touchstart click",function(t){t.stopPropagation(),$("#Timer").html('<div class="C1fl preload" style="padding:5px;box-sizing:border-box">'+$I.refresh+"</div>"),setTimeout(function(){TimerUpdateData()},1500)}),$("#Stage").on("touchstart click","#MinerPaymentsBtn",function(t){t.stopPropagation(),$("#MinerPayments").hasClass("hide")?addr&&$A[addr]&&LoadMinerPayments():CloseMinerPayments()}),$("#Stage").on("touchstart click","#MinerPayNowBtn",function(t){t.stopPropagation(),$("#MinerPayNow").html(loadgrp),setTimeout(function(){$("#MinerPayNow").html('<div class="center C3'+cmde+' text">Demo - Need Endpoint</div>')},1500)}),$("#Stage").on("touchstart click",".PaymentPag",function(t){t.stopPropagation();var e=$(this).attr("data-page");"end"!==e&&"start"!==e&&($("#MinerPaymentsList").find("table").html("<tr><td>"+loadgrp+"</td></tr>"),LoadMinerPayments(e))}),$("#Stage").on("touchstart click",".WorkerSort",function(t){t.stopPropagation();var e=$(this);CookiePrefEdit("sort",e.attr("data-col").charAt(0).toUpperCase()+e.attr("data-ord")),init_MinerWorkers()}),$(document.body).on("click",".WBlock",function(t){t.stopPropagation();var e=$(this),a=e.parent(".WWrap");a.hasClass("WExpand")?(a.removeClass("WExpand"),e.find(".Expand").addClass("hide")):(a.addClass("WExpand"),e.find(".Expand").removeClass("hide"),load_MinerWorkerDetail(e.attr("data-key")))}),$(document.body).on("touchstart click",".blockgroup",function(t){t.stopPropagation();var e=$(this).attr("data-block");NetGraphPop(e),tooltip_open=e}),$(document.body).on("touchstart click","#NetGraphClose",function(t){t.stopPropagation(),CloseToolTip($(this).attr("data-block")),tooltip_open="",$("#NetGraphPop").remove()}),$(document.body).on("touchstart click","#News .Close",function(t){t.stopPropagation(),$("#News").addClass("hide"),$.cookie("SupportXMRNews",$D.alert.created,{expires:365,path:"/"})}),$(document.body).on("mouseenter",".blockgroup",function(){OpenToolTip($(this).attr("data-block"))}).on("mouseleave",".blockgroup",function(){CloseToolTip($(this).attr("data-block"))}),$(document.body).on("change",".PagBox, .PagSel",function(t){var e=$(this),a=e.closest(".Pag"),s=a.attr("id"),o=e.hasClass("PagBox")?e.val().replace(/\D/g,""):a.find(".PagBox").val(),r=e.hasClass("PagSel")?e.val():a.find(".PagSel").val();"PaymentPag"===s?dta_Payments(o,r):"BlocksPag"===s&&dta_Blocks(o,r)}),$(document.body).on("keyup",".PagBox",function(t){PaginationBoxWidth($(this))}),$(document.body).on("touchstart click",".PagBtn",function(t){t.stopPropagation();var e=$(this),a=e.closest(".Pag"),s=a.attr("id"),o=e.attr("data-page"),r=a.find(".PagSel").val();"PaymentPag"===s?dta_Payments(o,r):"BlocksPag"===s&&dta_Blocks(o,r)}),$(document.body).on("touchstart click",".helpbtn, .helpbtntext",function(t){t.stopPropagation();var e=$(this).closest(".helpgroup"),a=e.find(".helpbtn");a.hasClass("helpbtn-expanded")?(e.find(".helpteaser").removeClass("hide"),e.find(".helpcontent").addClass("hide"),a.removeClass("helpbtn-expanded")):(e.find(".helpteaser").addClass("hide"),e.find(".helpcontent").removeClass("hide"),a.addClass("helpbtn-expanded"))}),$(document.body).on("mouseenter",".helpbtntext, .helpbtn",function(){var t=$(this).closest(".helpgroup");t.find(".helpbtntext").removeClass("C1").addClass("C2"),t.find(".helpbtn").removeClass("C1fl").addClass("C2fl")}).on("mouseleave",".helpbtntext, .helpbtn",function(){var t=$(this).closest(".helpgroup");t.find(".helpbtntext").removeClass("C2").addClass("C1"),t.find(".helpbtn").removeClass("C2fl").addClass("C1fl")})}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(m){function v(t){return u.raw?t:encodeURIComponent(t)}function f(t,e){var a=u.raw?t:function(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return t=decodeURIComponent(t.replace(s," ")),u.json?JSON.parse(t):t}catch(t){}}(t);return m.isFunction(e)?e(a):a}var s=/\+/g,u=m.cookie=function(t,e,a){if(1<arguments.length&&!m.isFunction(e)){if("number"==typeof(a=m.extend({},u.defaults,a)).expires){var s=a.expires,o=a.expires=new Date;o.setMilliseconds(o.getMilliseconds()+864e5*s)}return document.cookie=[v(t),"=",function(t){return v(u.json?JSON.stringify(t):String(t))}(e),a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}for(var r=t?void 0:{},i=document.cookie?document.cookie.split("; "):[],d=0,n=i.length;d<n;d++){var l=i[d].split("="),c=(p=l.shift(),u.raw?p:decodeURIComponent(p)),h=l.join("=");if(t===c){r=f(h,e);break}t||void 0===(h=f(h))||(r[c]=h)}var p;return r};u.defaults={},m.removeCookie=function(t,e){return m.cookie(t,"",m.extend({},e,{expires:-1})),!m.cookie(t)}});