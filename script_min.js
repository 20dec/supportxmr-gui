var resizeTimer,updateCounter,mde="l",$Q={pool:{nme:"SupportXMR"},clr:{main:"f06923","back-l":"e8e8e8","back-d":"313131"},cur:{nme:"Monero",sym:"XMR",blk:2,reg:/^[4|8]([0-9]|[A-B])(.){93}/},api:"https://supportxmr.com/api/",explorer:"https://xmrchain.net/block/",explorertx:"https://xmrchain.net/tx/",news:!0,timer:60,graph:{hrs:8,pplns:!0},pay:{min_inst:.01,min_auto:.1}},$L={auto:"Auto Pay",back:"Back",calc:{1:"Per Day",7:"Per Week",30:"Per Month",365:"Per Year"},conf:"Confirmed",eff:"Effort",home:"Home",invl:"Invalid",min:"Minimum",nav:{home:"Home",blocks:"Blocks",payments:"Payments",help:"Help"},que:"Payment Queded",rcnt:"Recent",set:"Set Auto Pay",updt:"Updated",vwpy:"View Your Payments"},$$={hlp:{head:"Welcome to "+$Q.pool.nme,text:'Getting started is easy and this pool has a large and friendly community that are happy to help you. The pool operators are M5M400 and Snipa22 who can be reached in the #monero-pools IRC or at <a href="mailto:support@supportxmr.com" class="C1 hov">support@supportxmr.com</a>. Please be patient and someone will get back to you. Most of the time help can be found quicker in the chat. The pool has a quite stable and knowlegable community - you can join the chat and seek help and a friendly chat there :)'},msg:{welcome:{head:"Welcome to "+$Q.pool.nme,text:'Visit the <u class="nav C1" data-tar="help">help section</u> to get setup, then enter your '+$Q.cur.nme+" address above. After you’ve submitted a share, your stats will appear here."},addr_invalid:{head:"Invalid "+$Q.cur.nme+" Address",text:"Double check that your address is complete."},addr_notfound:{head:"Address Not Found",text:'If you’ve submitted your first share, be patient, it may take a minute or two to update. If your shares are being rejected, visit the <u class="nav C1" data-tar="help">help section.</u>'},addr_nodata:{head:"No Data",text:""}},pay:{DashPending:{lbl:$Q.cur.sym+" Pending",var:"due"},DashPaid:{lbl:$Q.cur.sym+" Paid",var:"paid"}},sts:{MinerWorkerCount:{lbl:'<span id="MinerLastHash">--</span>'},MinerHashes:{lbl:"Total Hashes",var:"hashes"},MinerShares:{lbl:"Valid / Invalid Shares",def:"-- / --",var:"shares"},MinerCalc:{lbl:'<input type="text" id="MinerCalcHsh" size="3" /><select id="MinerCalcUnit"></select><select id="MinerCalcFld"></select>'}},tbl:{poolpay:{tme:{lbl:"Payment Sent",cls:"condte"},payees:{lbl:"Payees",cls:"consmall"},amnt:{lbl:"Amount ("+$Q.cur.sym+")",cls:"consmall"},fee:{lbl:"Fee ("+$Q.cur.sym+")",cls:"right"}},blockhistory:{tme:{lbl:"Block Mined",cls:"condte"},togo:{lbl:"Maturity",cls:"consmall"},eff:{lbl:"Effort",cls:"continy"},reward:{lbl:"Reward ("+$Q.cur.sym+")",cls:"consmall"},height:{lbl:"Height",cls:"consmall"},hash:{lbl:"Transaction",cls:"right",hsh:"y"}},pay:{tme:{lbl:"Payment Sent",cls:"condte"},amnt:{lbl:"Amount ("+$Q.cur.sym+")",cls:"center"},hash:{lbl:"Transaction",cls:"right",hsh:"y"}}}},addr=UrlVars().addr||"",lang=window.navigator.userLanguage||window.navigator.language,pref="LNA",cookieprefix=$Q.pool.nme.replace(/[ ,;]/g,""),updateTimer=$Q.timer,now=Rnd((new Date).getTime()/1e3),width=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,netpop_open="",$A={},$C={TogMode:"",Timer:"",NetGraph:"",Addr:"",Stage:"",DashPayBtn:"",AddrField:"",TimerPie:"",TimerText:"",TimerRefresh:""},$U={net:0,netheight:0,pool:0,poolstats:0,news:0},$D={news:{},block:{},blockhistory:{},net:{},pool:{},poolstats:{},pay:{},poolpay:{},netheight:"",hashconv:{GH:1e9,MH:1e6,KH:1e3,H:1}},$I={l:'<svg viewBox="0 0 99 99"><circle opacity=".6" cx="49.5" cy="49.5" r="31.5"/><path d="M87.6 57.1L99 49.5 87.7 42l7.5-11.3L82 27.9l2.6-13.4-13.4 2.7-2.6-13.4L57 11.4 49.5 0 42 11.3 30.6 3.8 27.9 17l-13.4-2.6 2.7 13.4-13.4 2.6L11.4 42 0 49.5 11.3 57 3.8 68.4 17 71.1l-2.6 13.4 13.4-2.7 2.6 13.4L42 87.6 49.5 99 57 87.7l11.3 7.5L71.1 82l13.4 2.6-2.7-13.4 13.4-2.6L87.6 57zM49.5 80a30.5 30.5 0 1 1 0-61 30.5 30.5 0 0 1 0 61z"/></svg>',d:'<svg viewBox="0 0 99 99"><path d="M25.2 19.6l5.3 10.6 11.7 1.7-8.5 8.3 2 11.6-10.5-5.5-10.4 5.5 2-11.6-8.5-8.3L20 30.2l5.2-10.6zm29.6-3.4l2.7 5.5 6 .9-4.3 4.2 1 6-5.4-2.8-5.5 2.9 1-6-4.3-4.3 6-1 2.8-5.4zM64.8 0A46 46 0 0 1 0 64.4 50.9 50.9 0 1 0 64.6 0z"/></svg>',settings:'<svg viewBox="0 0 99 99"><path d="M19.7 50.74V10.92l-6.4 1.69v38.12a16.1 16.1 0 0 0 0 31.53v4.17l6.4 1.65v-5.82a16.09 16.09 0 0 0 0-31.52zm-3.2 25.34a9.58 9.58 0 1 1 0-19.16 9.58 9.58 0 0 1 0 19.16zm36.2-59.51S52.66 0 52.7 0h-6.4v16.57a16.09 16.09 0 0 0 0 31.53V99h6.4V48.1a16.09 16.09 0 0 0 0-31.53zm-3.2 25.35a9.58 9.58 0 1 1 0-19.17 9.58 9.58 0 0 1 0 19.17zm36.2-1.18V12.62l-6.4-1.7v29.81a16.09 16.09 0 0 0 0 31.53v15.82l6.4-1.68V72.26a16.09 16.09 0 0 0 0-31.52zm-3.2 25.34a9.58 9.58 0 1 1 0-19.16 9.58 9.58 0 0 1 0 19.16z"/></svg>',loadico:'<svg viewBox="0 0 99 99"><path d="M49.5 0A49.5 49.5 0 0199 49.5c0 5.8-1.6 15.8-4.7 19.6a50.2 50.2 0 01-50.2 8.6c19.5 3.4 34.1-12.3 34.1-28.2a28.7 28.7 0 10-57.4 0c0 24.3 33.8 47 70.7 26.1A49.5 49.5 0 1149.5 0z"/><path opacity=".08" fill="#000" d="M44.1 77.7c41.9 5.9 60.6-41.7 35-68C91 18.9 99 33.3 99 49.6c0 5.8-1.6 15.8-4.7 19.6a50.2 50.2 0 01-50.2 8.6z"/></svg>',arrow:'<svg viewBox="0 0 99 99"><path d="M27 78l28-29-28-28C17 10 33-8 45 4l35 37c5 5 5 12 0 17L45 95c-12 12-29-6-18-17z"/></svg>',sort:'<svg viewBox="0 0 99 99"><path d="M56 45L35 25 15 45C8 52-6 40 3 32L29 6c4-3 9-3 12 0l27 26c9 8-4 20-12 13zm-13 9l21 20 20-20c7-7 21 5 12 13L70 93c-4 3-9 3-12 0L31 67c-9-8 4-20 12-13z"/></svg>',refresh:'<svg viewBox="0 0 99 99"><path d="M0 55.7v31l9.2-8.5a49.5 49.5 0 0 0 89.4-22.5H86.1a37.1 37.1 0 0 1-67.7 14l15.3-14H0zM49.5 0C24.3 0 3.5 18.9.4 43.3h12.5a37.1 37.1 0 0 1 68.3-13.1L68.1 43.3H99v-31l-8.9 9A49.4 49.4 0 0 0 49.5 0z"/></svg>',x:'<svg viewBox="0 0 99 99"><path d="M99 77L71 50l28-28L77 0 50 28 22 0 0 22l28 28L0 77l22 22 28-28 27 28"/></svg>',delete:'<svg viewBox="0 0 99 99"><path d="M8 28L7 15h86l-2 13H8zM31 0l-1 10h39L68 0H31zM10 33l9 66h61l9-66H10zm18 56l-3-47h8l3 47h-8zm26 0h-9V42h9v47zm17 0h-8l3-47h8l-3 47z"/></svg>'};function init(){for(var e=Object.keys($C),t=e.length;t--;)$C[e[t]]=document.getElementById(e[t]);$C.TogMode.innerHTML=$I.d,$C.TimerRefresh.innerHTML=$I.refresh,document.getElementById("TimerLoader").innerHTML=$I.loadico,document.querySelector("#HeadMenu .select-point").innerHTML=$I.arrow,document.getElementById("AddrDelete").innerHTML=$I.delete,document.querySelector("#AddrRecent .select-point").innerHTML=$I.arrow,document.getElementById("DashPendingLbl").innerHTML=$$.pay.DashPending.lbl,document.getElementById("DashPaidLbl").innerHTML=$$.pay.DashPaid.lbl,Dash_btn("loading"),TimerLoading("on");t=0;var a="",n="";for(var r in $L.nav)a+='<option value="'+r+'">'+$L.nav[r]+"</option>",0!==t&&(n+=" &middot; "),n+='<span class="nav" data-tar="'+r+'">'+$L.nav[r]+"</span>",t++;document.querySelector("#HeadMenu select").innerHTML=a,document.getElementById("FootR").innerHTML=n;var s=getCookie("Addr"),i=getCookie("Pref"),o="";if(s)if(0<=s.indexOf("#")){var l=s.split("#");for(t=0;t<l.length;t++)0===t&&(o=l[t]),$A[l[t]]={}}else $A[o=s]={};i&&(pref=i),addr||o&&(addr=o),addr?($C.AddrField.value=addr,$C.AddrField.blur()):$C.AddrField.setAttribute("placeholder","Your "+$Q.cur.nme+" Address..."),"l"===mde&&pref&&"D"===pref.charAt(0)&&(mde="d",SwitchMode()),Dash_init(),TimerUpdateData()}function ErrAlert(e,t){var a=document.querySelector("#NetGraph svg"),n=document.querySelector("#MinerGraph svg"),r=document.getElementById("MinerWorkers"),s=document.querySelectorAll(".GAlert");if("X"===e)$C.TimerText.innerHTML=updateTimer,null!=a&&a.classList.remove("o3"),null!=n&&n.classList.remove("o3"),null!=r&&r.classList.remove("o3"),null!=s&&null!=s.parentNode&&s.parentNode.removeChild(s);else{var i="",o="C4",l="Try refreshing, check your connection; otherwise we’ll be back up soon.";if("NetGraph"===e)i="Network API Connection Error",null!=a&&a.classList.add("o3");else{if("MinerGraph"!==e)return!1;"NoData"===t?(o="C2",i="No Data Available",l="Stats will appear when miner is active."):i="Miner API Connection Error",null!=n&&n.classList.add("o3"),null!=r&&r.classList.add("o3")}if("C4"===o&&($C.TimerText.innerHTML='<div class="C4fl">'+$I.x+"</div>",$C.TimerRefresh.classList.add("hide")),i){var d=document.getElementById(e);null!=d&&(d.innerHTML+='<div class="GAlert C0bk'+mde+" "+o+'br center"><div class="txtmed '+o+'">'+i+'</div><div class="txtsmall C3'+mde+'">'+l+"</div></div>")}}}function LoadTimer(){clearInterval(updateCounter),TimerLoading("off"),updateCounter=setInterval(function(){if(document.hasFocus()&&updateTimer--,updateTimer<=0)TimerLoading("on"),clearInterval(updateCounter),setTimeout(function(){TimerUpdateData()},1500);else{var e="d"===mde?$Q.clr["back-d"]:$Q.clr["back-l"],t="linear-gradient("+(360*updateTimer/$Q.timer-90)+"deg, transparent 50%, #F06A25";updateTimer<$Q.timer/2&&(t="linear-gradient("+(90+360*updateTimer/$Q.timer)+"deg, transparent 50%, #"+e),$C.TimerPie.style.backgroundImage=t+" 50%),linear-gradient(90deg, #"+e+" 50%, transparent 50%)",$C.TimerText.innerHTML=updateTimer}},1e3)}function TimerLoading(e){var t=document.getElementById("TimerLoader");"on"===e?t.classList.remove("hide"):t.classList.add("hide")}function TimerUpdateData(){api("block").then(function(){ErrAlert("X")}).catch(function(e){ErrAlert("NetGraph","")});var e=document.getElementById("MinerHashes");e&&Dash_load("--"!==e.innerHTML?"refresh":"");if(api("net").then(function(){api("pool").then(function(){Graph_Net(),updateTimer=$Q.timer,$C.TimerText.innerHTML=updateTimer,LoadTimer()}).catch(function(e){ErrAlert("NetGraph","")})}).catch(function(e){ErrAlert("NetGraph","")}),$Q.news){var t=document.getElementById("News"),a=document.getElementById("NewsCard"),n="";null!=t&&""===a.innerHTML&&api("news").then(function(){$D.news&&$D.news.created&&(getCookie("News")==$D.news.created?n="hide":a.innerHTML='<div class="txtmed">'+$D.news.subject+'<div id="NewsTime" class="txttny noselect">('+Ago($D.news.created)+' Ago)</div></div><div id="NewsBody" class="txt">'+$D.news.body.replace(/^(<br>)/,"")+'</div><div id="NewsClose" class="Btn32 Btn32Corner C1fl">'+$I.x+"</div>",t.className=n)})}}function Resize(){clearTimeout(resizeTimer),resizeTimer=setTimeout(function(){width=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,Graph_Net(),Graph_Miner_init(),Workers_init(),HashTrun();var e=document.getElementById("MinerPaymentsPage");null!=e&&MinerPaymentHistory(e.value)},250)}function SwitchMode(){var t=["C0","C0fl","C0bk","C0st","C3","C3fl","FLD"],a="d"===mde?"l":"d",n=t.length;for($C.TogMode.innerHTML=$I[a];n--;)document.querySelectorAll("."+t[n]+a).forEach(function(e){e.classList.add(t[n]+mde),e.classList.remove(t[n]+a)});document.querySelector("meta[name=theme-color]").setAttribute("content","#"+{l:{f:"454545",b:"efefef"},d:{f:"b3b3b3",b:"3b3b3b"}}[mde].b)}function SaveAddr(e,t){var a="",n="",r=0;if("add"===t)$A[e]&&!isEmpty($A[e])||($A[e]={});else{if("del"!==t)return;delete $A[e]}for(var s in Dash_reset(),$A)$A.hasOwnProperty(s)&&r<25&&(a+=0===r?n=s:"#"+s,r++);setCookie("Addr",a),$C.AddrField.value="del"===t?n:e,Dash_init(),Dash_load(),MultipleAddress()}function SavePref(e,t){var a="D"===pref[0]?"D":"L",n=("R"===pref[1]?"R":"N")+("D"===pref[2]?"D":"A");"mode"===e?a=t:"sort"===e&&(n=t),setCookie("Pref",pref=a+n)}function MultipleAddress(){var e=numObj($A),t=document.getElementById("AddrRecent"),a="hide";if(1<e){for(var n in ins='<option value="">'+$L.rcnt+"</option>",$A)$A.hasOwnProperty(n)&&n!==addr&&(ins+='<option value="'+n+'">'+n.substring(0,3)+"..."+n.substr(n.length-4)+"</option>");t.querySelector("select").innerHTML=ins,a=""}t.parentNode.className=a,document.getElementById("AddrDelete").parentNode.className=a}function Navigate(r){$C.Stage.className="",document.querySelectorAll(".nav").forEach(function(e){e.classList.remove("o5")}),setTimeout(function(){var e="",t="StageFade",a="",n="LR85 C3l";r&&0<=["blocks","payments","help"].indexOf(r)?(e="short",t+=" short",a='<div class="LR85"><div id="PageTopL" class="C3'+mde+' txtmed"></div><div id="PageTopR" class="right"></div></div><div class="pbar"></div><div id="PageBot" class="LR80 C3'+mde+' txt shim10">'+$I.load+"</div>",n+=" hide"):r="home",$C.NetGraph.className=e,$C.Stage.className=t,$C.Stage.innerHTML=a,$C.Addr.className=n,"blocks"===r?dta_Blocks(1):"payments"===r?dta_Payments(1):"help"===r?dta_Help():(Dash_init(),Dash_load()),Graph_Net(),document.querySelector("#HeadMenu select").value=r,document.querySelector('#FootR .nav[data-tar="'+r+'"]').classList.add("o5")},300)}function Dash_init(){var e=["SplitL","SplitR"],t='<div id="News" class="hide"><div id="NewsCard" class="LR85 C0bk'+mde+" C3"+mde+' shimtop20"></div></div><div id="MinerPayments"></div><div id="MinerGraph"></div><div id="MinerDash" class="LR85 txtbig C3'+mde+' hide"></div><div id="WorkerList" class="LR85 shimtop20"></div>';$C.Stage.innerHTML=t,t="";for(var a=0;a<2;a++){t+='<div class="'+e[a]+'">';var n=0;for(var r in $$.sts){if(0===a&&n<2||1===a&&2<=n)t+='<div class="Spl"><div id="'+r+'">'+($$.sts[r].def||"--")+'</div><div class="hbar shim4 o8"></div><div class="C2 txttny">'+$$.sts[r].lbl+"</div></div>";n++}t+="</div>"}document.getElementById("MinerDash").innerHTML=t;var s=document.getElementById("MinerCalcFld"),i=document.getElementById("MinerCalcHsh"),o=document.getElementById("MinerCalcUnit");for(var r in t="",$L.calc)t+='<option value="'+r+'">'+$L.calc[r]+"</option>";for(var r in s.innerHTML=t,s.className="BtnElem txttny C0"+mde+" C1bk",t="",$D.hashconv)t+='<option value="'+r+'">'+r+"/s</option>";o.innerHTML=t,o.value="H",o.className="BtnElem txttny C0"+mde+" C1bk",i.className="BtnElem txttny C0"+mde+" C1bk"}function Dash_load(n){var r=document.getElementById("MinerGraph"),e=document.getElementById("WorkerList"),s=document.getElementById("MinerDash");addr?$Q.cur.reg.test(addr)?($C.AddrField.classList.remove("C4"),"refresh"!==n&&(Dash_btn("loading"),e.innerHTML=$I.load),api("account").then(function(){if($A[addr]&&$A[addr].hashes){for(var e in s.classList.remove("hide"),$$.pay){var t=$A[addr][$$.pay[e].var],a=8;99999<t?a=4:9999<t?a=5:999<t?a=6:99<t&&(a=7),document.getElementById(e).innerHTML=Rnd(t,a,"txt")}document.getElementById("MinerHashes").innerHTML=Num($A[addr].hashes),document.getElementById("MinerShares").innerHTML=$A[addr].shares,"refresh"!==n&&Dash_btn("loaded"),Graph_Miner_init(),MultipleAddress(),api("workers",addr).then(function(){var e=$A[addr].wrkrs&&0<numObj($A[addr].wrkrs)?numObj($A[addr].wrkrs):0,t=1===e?"":"s";document.getElementById("MinerWorkerCount").innerHTML=e+" Worker"+t,document.getElementById("MinerLastHash").innerHTML=Ago($A[addr].last)+" Ago",Workers_init()}).catch(function(e){console.log(e)})}else Dash_reset(),r.innerHTML='<div class="MinerMsg C3'+mde+'"><div class="txtmed">'+$$.msg.addr_notfound.head+'</div><div class="LR80 txt shim10">'+$$.msg.addr_notfound.text+"</div></div>"}).catch(function(e){console.log(e)})):(Dash_reset(),$C.AddrField.classList.add("C4"),r.innerHTML='<div class="MinerMsg C3'+mde+'"><div class="txtmed">'+$$.msg.addr_invalid.head+'</div><div class="LR80 txt shim10">'+$$.msg.addr_invalid.text+"</div></div>"):(Dash_reset(),r.innerHTML='<div class="MinerMsg C3'+mde+'"><div class="txtmed">'+$$.msg.welcome.head+'</div><div class="LR80 txt shim10">'+$$.msg.welcome.text+"</div></div>")}function Dash_reset(){Dash_btn("inactive");for(var e={WorkerList:{v:""},MinerGraph:{v:""},MinerPayments:{r:"Opened",v:""}},t=Object.keys(e),a=0;a<t.length;a++){var n=t[a],r=document.getElementById(n);r.innerHTML=e[n].v,e[n].r&&r.classList.remove(e[n].r)}for(var t in $$.pay){(s=document.getElementById(t))&&(s.innerHTML=$$.pay[t].def||"--")}for(var t in $$.sts){var s;(s=document.getElementById(t))&&(s.innerHTML=$$.sts[t].def||"--")}}function Dash_btn(e){var t=$C.DashPayBtn,a="nopoint C2fl o5",n=$I.settings;"loading"===e?(a="nopoint",n=$I.load):"loaded"===e?a="C1fl hov":"closer"===e&&(a="C1fl",n='<div class="Closer hov">'+$I.x+"</div>"),t.className=a,t.innerHTML=n}function Dash_calc(){var e=document.getElementById("MinerCalcFld"),t=e.value||1,a=document.getElementById("MinerCalcHsh"),n=0,r=a.value||0,s=document.getElementById("MinerCalcUnit"),i=s.value||"H",o=0,l=HashConv(n=r&&0<r?r*$D.hashconv[i]:document.getElementById("MinerGraphAvg").getAttribute("data-hsh")||0),d=0;r=l.num,i=l.unit.replace("/s",""),a.value=r,s.value=i,e.value=t;for(var c=0;c<6;c++)$D.block[c]&&(o+=parseFloat($D.block[c].reward),d++);var h=n/$D.net[0].hash*1440/$Q.cur.blk*o/d*e.value;document.getElementById("MinerCalc").innerHTML=Rnd(h,4,"txt")+" "+$Q.cur.sym}function Workers_init(){var e=document.getElementById("WorkerList");if($A[addr]&&$A[addr].wrkrs&&e){var n=numObj($A[addr].wrkrs),t=0,a="",r="",i='<div id="WorkerSortGroup" class="hide txttny C2"><div id="WorkerSortName" class="C2bk C0fl'+mde+'" data-ord="D">'+$I.sort+'</div><div id="WorkerSortRate" class="C2bk C0fl'+mde+'" data-ord="D">'+$I.sort+'</div></div><div class="WingPanel">';for(srt="R"===pref.charAt(1)?"rate":"name",ord="A",s=[],0<=["A","D"].indexOf(pref.charAt(2))&&(ord=pref.charAt(2)),t=0;t<n;t++)s.push([t,$A[addr].wrkrs[t][srt]]);for("name"===srt?(s.sort(function(e,t){return e[1].toLowerCase().localeCompare(t[1].toLowerCase())}),"D"===ord&&s.reverse()):"rate"===srt&&("D"===ord?s.sort(function(e,t){return-(e[1]-t[1])}):s.sort(function(e,t){return e[1]-t[1]})),n<8&&(r=" WBlockFewGrid"),t=0;t<n;t++)a=s[t][0],i+='<div class="WorkerWrap '+r+'"><div class="Worker C1br C2br_hov C3'+mde+'" data-key="'+a+'"><div id="WName-'+a+'" class="txtmed LblL">--</div><div id="WRate-'+a+'" class="txtmed LblR">--</div><div class="WorkerChart" data-worker="'+a+'"></div></div></div>';if(e.innerHTML=i+'</div><div class="clear"></div>',0<n){var o=document.getElementById("WName-0").clientWidth;for(t=0;t<n;t++)document.getElementById("WName-"+s[t][0]).innerHTML=Truncate($A[addr].wrkrs[s[t][0]].name,Rnd(o/6.25))}1<n&&(document.getElementById("WorkerSortGroup").classList.remove("hide"),Workers_sort(srt,ord,"n"));var l=0;for(t=0;t<s.length;t++)api("worker",s[t][0],$A[addr].wrkrs[s[t][0]].name).then(function(e){var t=$A[addr].wrkrs[e],a=t&&t.stats&&t.stats[0]&&t.stats[0].hsh?t.stats[0].hsh:0;0<a?(a=HashConv(a),document.getElementById("WRate-"+e).innerHTML=a.num+" "+a.unit,t.stats&&Graph_Worker(e)):document.querySelector('.Worker[data-key="'+e+'"]').classList.add("C4","C4br"),l++,1<n&&l===n&&Workers_sort(srt,ord,"y")}).catch(function(e){console.log(e)})}}function Workers_sort(e,t,a){var n=document.getElementById("WorkerSortName"),r="C2bk C0fl"+mde+" hov",s=$I.sort,i=document.getElementById("WorkerSortRate"),o="C2bk C0fl"+mde+" hov",l='<div class="preload C0fl'+mde+'">'+$I.loadico+"</div>",d="D"===t?"A":"D",c="D"===t?"rot90":"rot270";"y"===a?"rate"===e?(o="C1bk C0fl"+mde+" hov "+c,l=$I.arrow):"name"===e&&(l=$I.sort):"rate"===e&&(o="C1bk C0fl"+mde+" nopoint"),"rate"===e?i.setAttribute("data-ord",d):"name"===e&&(n.setAttribute("data-ord",d),r="C1bk C0fl"+mde+" hov "+c,s=$I.arrow),n.className=r,n.innerHTML=s,i.className=o,i.innerHTML=l}function Workers_detail(s){if(s)var e=document.querySelector('.Worker[data-key="'+s+'"]'),t=null!=e.querySelector("#WorkerPop")?"remove":"";if(removeElement("WorkerPop"),document.querySelectorAll(".Worker").forEach(function(e){e.classList.remove("C1"),e.classList.add("C3"+mde)}),s&&"remove"!==t){e.classList.add("C1"),e.classList.remove("C3"+mde),e.innerHTML+='<div id="WorkerPop" class="C0bk'+mde+" C1br C3"+mde+' txtsmall"></div>';var i=$A[addr].wrkrs[s],o=document.getElementById("WorkerPop");o.innerHTML=$I.load,api("workerdetail",s,i.name).then(function(){for(var e,t=0,a=1e17,n=numObj($A[addr].wrkrs[s].stats),r=n;r--;)t+=parseInt($A[addr].wrkrs[s].stats[r].hsh),SynchTime($A[addr].wrkrs[s].stats[r].tme),$A[addr].wrkrs[s].stats[r].tme<a&&(a=$A[addr].wrkrs[s].stats[r].tme);e=HashConv(Rnd(t/n,0)),o.innerHTML='<div id="WorkerPopClose" class="C1fl Btn16 Btn16Corner">'+$I.x+'</div><div class="BoxL center">'+e.num+" "+e.unit+'</div><div class="BoxR center">'+Ago(i.last)+' Ago</div><div class="pbar shim4"></div><div class="BoxL txttny C2 center">Avg '+Ago(a)+'</div><div class="BoxR txttny C2 center">Last Share</div><div class="shim10"></div><div class="BoxL center">'+Num(i.hashes)+'</div><div class="BoxR center">'+Num(i.val)+" / "+Num(i.inv)+'</div><div class="pbar shim4"></div><div class="BoxL txttny C2 center">'+$$.sts.MinerHashes.lbl+'</div><div class="BoxR txttny C2 center">'+$$.sts.MinerShares.lbl+"</div>"}).catch(function(e){console.log(e)})}}function MinerPayments(e){if(addr&&$A[addr]&&$A[addr].hashes&&0<$A[addr].hashes){var t=document.getElementById("MinerPayments"),a=document.getElementById("NewsBody");if("back"!==e&&(t.classList.contains("Opened")||t.classList.contains("OpenedBig")))return a&&a.classList.remove("hide"),t.className="",t.innerHTML="",void Dash_btn("loaded");a&&a.classList.add("hide"),t.className="Opened",t.innerHTML='<div class="hbar"></div><div id="MinerPaymentsStage"></div>',Dash_btn("closer");var n=document.getElementById("MinerPaymentsStage");setTimeout(function(){n.innerHTML=$I.load},300),setTimeout(function(){var e=$Q.pay.min_inst+" "+$Q.cur.sym+" "+$L.min,t="o5 nopoint";$A[addr].due>=$Q.pay.min_inst&&(e="Pay "+$A[addr].due+" "+$Q.cur.sym+" Now",t="C2bk_hov"),n.innerHTML='<div class="LR50 shimtop20 C0'+mde+' txtmed"><div id="InstaPayBtn" class="BtnElem C1bk '+t+' noselect">'+e+'</div><div class="hbar shim10"></div><input type="text" id="AutoPayFld" class="BtnElem txt C0bk'+mde+" C3"+mde+' C1br" autocomplete="off" placeholder="Auto Pay Amount..."><div id="AutoPayBtn" class="BtnElem C1bk C2bk_hov o5 noselect">'+$L.set+'</div><div class="hbar shim10"></div></div><div id="PaymentHistory"><div class="LR50"><div id="PaymentHistoryBtn" class="BtnElem C0'+mde+' txtmed C1bk C2bk_hov noselect">'+$L.vwpy+"</div></div></div>"},1500)}}function InstaPay(){var e=document.getElementById("InstaPayBtn");e.className="C1bk",e.innerHTML='<div class="C0fl'+mde+' preload">'+$I.refresh+"</div>",setTimeout(function(){e.className="C5bk",e.innerHTML="Payment Queued"},1500)}function AutoPay(e){var t=AutoPayCheck(),a=document.getElementById("AutoPayBtn");"OK"===t&&(a.innerHTML='<div class="C0fl'+mde+' preload">'+$I.refresh+"</div>",setTimeout(function(){a.className="C5bk",a.innerHTML=$L.updt},1500))}function AutoPayCheck(){var e=document.getElementById("AutoPayBtn"),t="C1bk C2bk_hov o5",a=$L.set,n=document.getElementById("AutoPayFld"),r="txt C0bk"+mde+" C3"+mde+" C1br",s="",i=n.value.replace(/[^\d.]/g,""),o="err";if(-1<i.indexOf(".")){var l=i.split("."),d="";if(2<l.length){for(var c=0;c<l.length;c++)d+=l[c],0===c&&(d+=".");i=d}}return i&&0<i&&i<$Q.pay.min_auto?(t="C4bk",a=$Q.pay.min_auto+" "+$Q.cur.sym+" "+$L.min,r="txt C0bk"+mde+" C3"+mde+" C4br",s=Rnd(i,8,"txt")):i>=$Q.pay.min_auto&&(s=Rnd(i,8,"txt"),t="C1bk C2bk_hov",o="OK"),e.className=t,e.innerHTML=a,n.className=r,n.value=s,o}function MinerPaymentHistory(e){e=1<e?e:1,document.getElementById("MinerPayments").className="OpenedBig",document.getElementById("PaymentHistory").innerHTML='<div class="LR85"><div id="PaymentHistoryBtnClose" class="BtnElem C0'+mde+' txtmed C1bk C2bk_hov noselect">Close Payment History</div><div id="MinerPaymentsTable">'+$I.load+'</div></div><input type="hidden" id="MinerPaymentsPage" value="'+e+'">',api("pay",addr,e).then(function(){Tbl("MinerPaymentsTable","pay",e,10)}).catch(function(e){console.log(e)})}function dta_Blocks(e){api("poolstats").then(function(){document.getElementById("PageTopL").innerHTML=Num($D.poolstats.blocks)+" Blocks Found with "+Num($D.poolstats.hashes)+" Hashes",api("netheight").then(function(){1===e&&25<=numObj($D.block)?($D.blockhistory=$D.block,Tbl("PageBot","blockhistory",1,25)):(document.getElementById("PageBot").innerHTML=$I.load,api("blockhistory",e,25).then(function(){Tbl("PageBot","blockhistory",e,25)}).catch(function(e){console.log(e)}))}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}function dta_Payments(e){document.getElementById("PageBot").innerHTML=$I.load,api("poolstats").then(function(){document.getElementById("PageTopL").innerHTML=Num($D.poolstats.payments)+" Payments to "+Num($D.poolstats.minerspaid)+" Miners",api("poolpay",e,25).then(function(){Tbl("PageBot","poolpay",e,25)}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})}function dta_Help(){document.getElementById("PageTopL").innerHTML=$$.hlp.head,document.getElementById("PageTopR").innerHTML='<span class="txttny C2">Join Us on IRC<br>#monero-pools</span>';var e="<p>"+$$.hlp.text+'</p><div class="helpgroup"><div class="helptitle txtbig">Step 1 - Install Wallet & Create Address<div class="btnback">'+$I.arrow+'</div></div><div class="helpteaser">Start here if you need a Monero address and wallet.</div><div class="helpcontent hide"><p>The <a href="https://www.getmonero.org/downloads/" target="_blank" class="C1 hov">Official Monero Wallet</a> is recommended. Monero Outreach’s <a href="https://www.monerooutreach.org/stories/monero_wallet_quickstart.php" class="C1 hov" target="_blank">Wallet Guide</a> has a list of other wallet options including paper wallets.</p></div></div><div class="helpgroup"><div class="helptitle txtbig">Step 2 - Install Mining Software<div class="btnback">'+$I.arrow+'</div></div><div class="helpteaser">Install the software needed to mine Monero.</div><div class="helpcontent hide"><p>Select the miner that best suits your hardware and follow their installation instructions. If you need help, visit #monero-pools.</p><p><table class="txtsmall C3'+mde+'"><tr><td NOWRAP><i>Alphabetically</i><br><a href="https://github.com/KlausT/ccminer-cryptonight/releases" class="C1 hov" target="_blank">ccminer-cryptonight</a> (Nvidia)<br><a href="https://bitcointalk.org/index.php?topic=638915.0" class="C1 hov" target="_blank">Claymore’s miner</a> (CPU, AMD)<br></td><td NOWRAP><a href="https://github.com/Dead2/CryptoGoblin/releases" class="C1 hov" target="_blank">CryptoGoblin</a> (CPU, Nvidia, AMD)<br><a href="https://github.com/xmrig/xmrig/" class="C1 hov" target="_blank">XMRig</a> (CPU, Nvidia, AMD)<br><a href="https://github.com/fireice-uk/xmr-stak/releases" class="C1 hov" target="_blank">XMR-Stak</a> (CPU, Nvidia, AMD)</td></tr></table></p></div></div><div class="helpgroup"><div class="helptitle txtbig">Step 3 - Configure Settings<div class="btnback">'+$I.arrow+'</div></div><div class="helpteaser">Select a pool server and port and configure you miner.</div><div class="helpcontent hide"><p>Each mining software will have it’s own config, but they will all ask for the same information:</p><p><b>Your Monero Address</b><br>Often this will be labeled username, but check the instructions. You can specify a paymentID by using the following format: <i>address</i>.<i>paymentID</i></p><p><b>Pool Address</b><br>The miner will want a url and a port, like this: pool.supportxmr.com:3333</p><p><table class="txtsmall C3'+mde+'"><tr><td><p>Port descriptions:</p><ul><li>3333 Low-end CPU</li><li>5555 Fast/Multi CPU</li><li>7777 GPU rigs</li><li>9000 SSL/TLS</li></ul></td><td><p>If you can’t get through firewall, try these:</p><ul><li>8080 Firewall bypass</li><li>80 Firewall bypass</li><li>443 Firewall bypass w/SSL/TLS</li></ul></td></tr></table></p><p><b>Optional Fields</b><br>You can also set worker names or fixed difficulty through the configuration.</p><p>Standard wallet address<br><i>(e.g. miner.exe -u 43T...sUW -p Steve)</i></p><p>Fixed difficulty of 3500 for the worker<br><i>(e.g. miner.exe -u 43T...sUW+3500 -p Steve)</i></p></div></div><div class="helpgroup"><div class="helptitle txtbig">Step 4 - Start Mining<div class="btnback">'+$I.arrow+'</div></div><div class="helpteaser">Launch the miner and learn more.</div><div class="helpcontent hide"><p>This pool uses PPLNS to determine payouts. It helps to combat pool hopping and ensures a good payout for miners.</p><p>0.6% Pool Fee</p><p>0.1 XMR Default Payout</p><p>60 Block Confirmation Time</p></div></div>';document.getElementById("PageBot").innerHTML=e}$I.load='<div class="LoadCon C1fl o9 Loader">'+$I.loadico+"</div>",window.addEventListener("resize",function(){Resize()}),document.body.addEventListener("change",function(e){for(var t=["#HeadMenu select","#TblPagBox","#AddrField","#AddrRecent select","#MinerCalcHsh","#MinerCalcUnit","#MinerCalcFld","#AutoPayFld"],a=0;a<t.length;a++){if(e.target.matches(t[a]))if("#HeadMenu select"===t[a])Navigate(document.querySelector(t[a]).value);else if("#TblPagBox"===t[a]){var n=e.target.value.replace(/\D/g,""),r=e.target.getAttribute("data-func");"blockhistory"===r?dta_Blocks(n):"poolpay"===r&&dta_Payments(n)}else"#AddrField"===t[a]||"#AddrRecent select"===t[a]?SaveAddr(addr=document.querySelector(t[a]).value,"add"):"#MinerCalcHsh"===t[a]||"#MinerCalcUnit"===t[a]||"#MinerCalcFld"===t[a]?Dash_calc():"#AutoPayFld"===t[a]&&AutoPayCheck()}},!1),document.body.addEventListener("click",function(e){for(var t=["#TogMode","#Timer","#DashPayBtn","#NetGraphClose","#NewsClose","#InstaPayBtn","#AutoPayBtn","#PaymentHistoryBtn","#PaymentHistoryBtnClose","#AddrDelete","#WorkerPopClose","#WorkerSortName","#WorkerSortRate",".nav",".PagBtn",".Worker",".blockgroup",".helptitle"],a=0;a<t.length;a++){var n=e.target.closest(t[a]);if(n){if("#TogMode"===t[a])mde="d"===mde?"l":"d",SwitchMode(),SavePref("mode",mde.toUpperCase());else if("#Timer"===t[a])TimerLoading("on"),setTimeout(function(){TimerUpdateData()},1500);else if("#DashPayBtn"===t[a])MinerPayments();else if("#NetGraphClose"===t[a])netpop_open="",document.getElementById("GPop").classList.add("hide");else if("#NewsClose"===t[a])document.getElementById("News").className="hide",setCookie("News",$D.news.created);else if("#InstaPayBtn"===t[a])InstaPay();else if("#AutoPayBtn"===t[a])AutoPay();else if("#PaymentHistoryBtn"===t[a])MinerPaymentHistory(1);else if("#PaymentHistoryBtnClose"===t[a])MinerPayments("back");else if("#InstaPayBtn"===t[a])document.getElementById("MinerPaymentsMenu").innerHTML=$I.load,setTimeout(function(){document.getElementById("MinerPaymentsMenu").innerHTML='<div class="center C3'+mde+' txt">Demo - Need Endpoint</div>'},1500);else if("#AddrDelete"===t[a])SaveAddr($C.AddrField.value,"del");else if("#WorkerPopClose"===t[a])Workers_detail();else if("#WorkerSortName"===t[a])SavePref("sort","N"+n.getAttribute("data-ord")),Workers_init();else if("#WorkerSortRate"===t[a])SavePref("sort","R"+n.getAttribute("data-ord")),Workers_init();else if(".nav"===t[a])Navigate(n.getAttribute("data-tar"));else if(".PagBtn"===t[a]){var r=n.getAttribute("data-func"),s=parseInt(n.getAttribute("data-page"));"poolpay"===r?dta_Payments(s):"blockhistory"===r?dta_Blocks(s):"pay"===r&&MinerPaymentHistory(s)}else if(".Worker"===t[a])Workers_detail(n.getAttribute("data-key"));else if(".blockgroup"===t[a])Graph_NetPop(netpop_open=n.getAttribute("data-block"));else{if(".helptitle"!==t[a])return;var i=n.querySelector(".btnback"),o="btnback",l="helpcontent",d="helpteaser";i.classList.contains("rot90")?l+=" hide":(o+=" rot90",d+=" hide"),i.className=o,n.parentNode.querySelector(".helpcontent").className=l,n.parentNode.querySelector(".helpteaser").className=d}return}}},!1),document.body.addEventListener("keyup",function(e){e.target.closest("#TblPagBox")&&PaginationBoxWidth()}),document.getElementById("Timer").onmouseover=function(e){$C.TimerRefresh.classList.remove("hide")},document.getElementById("Timer").onmouseout=function(e){$C.TimerRefresh.classList.add("hide")};var api=function(l,d,e){now=Rnd((new Date).getTime()/1e3);var c=0,t="",h=now-3600*GraphLib_Duration();if("news"===l&&now>$U.news+3600)t="pool/motd";else if("block"===l)t="pool/blocks?limit=100";else if("blockhistory"===l)t="pool/blocks?page="+d+"&limit="+e;else if("net"===l&&now>$U.net+300)t="network/chart/difficulty?timeScale=20";else if("pool"===l&&now>$U.pool+300)t="pool/chart/hashrate?timeScale=20";else if("netheight"===l&&now>$U.netheight+300)t="network/stats";else if("poolpay"===l)t="pool/payments?page="+(d-1)*e+"&limit="+e;else if("poolstats"===l&&now>$U.poolstats+300)t="pool/stats";else if("account"===l)t="miner/"+addr+"/stats";else if("pay"===l)t="miner/"+d+"/payments",e&&(t+="?page="+(e=1<e?10*(e-1):0)+"&limit=10");else if("workers"===l&&(isEmpty($A[addr].wrkrs)||now>$A[addr].wrkrs_updt+180))t="miner/"+addr+"/identifiers";else if("minershash"===l)t="miner/"+addr+"/chart/hashrate/";else if("worker"===l&&$A[addr]&&$A[addr].wrkrs[d]){var a=$A[addr].wrkrs[d]&&0<$A[addr].wrkrs[d].updt?$A[addr].wrkrs[d].updt:0;(isEmpty($A[addr].wrkrs[d].stats)||a+180<now)&&(t="miner/"+addr+"/chart/hashrate/"+e)}else"workerdetail"===l&&(t="miner/"+addr+"/stats/"+e);return new Promise(function(s,i){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(4===o.readyState)if(200<=o.status&&o.status<300){var e=o.responseText?JSON.parse(o.responseText):"";if(e){var t=numObj(e);if(0<=["net","netheight","pool","poolstats","news"].indexOf(l)&&($U[l]=now),"news"===l)$D[l]=e;else if(0<=["block","blockhistory","net","pool","pay","poolpay"].indexOf(l))for($D[l]={},c=0;c<t;c++){var a=e[c],n=Rnd(a.ts/1e3);if(0<=["block","blockhistory"].indexOf(l)){if("blockhistory"===l||h<=n||c<25){var r=1==a.valid?"t":"f";$D[l][c]={tme:n,hash:a.hash,height:a.height,reward:Rnd(a.value/1e12,8,"txt"),eff:Rnd(a.shares/a.diff*100),val:r}}}else"net"===l?h<=n&&($D[l][c]={tme:n,hash:Rnd(a.diff/120)}):"pool"===l?h<=n&&($D[l][c]={tme:n,hash:a.hs}):"pay"===l?$D[l][c]={tme:a.ts,hash:a.txnHash,amnt:Rnd(a.amount/1e12,8)}:"poolpay"===l&&($D[l][c]={tme:n,payees:a.payees,amnt:Rnd(a.value/1e12,8,"txt"),fee:Rnd(a.fee/1e12,8,"txt")})}else if("netheight"===l)$D[l]=e.height;else if("poolstats"===l)$D[l]={blocks:e.pool_statistics.totalBlocksFound,hashes:e.pool_statistics.totalHashes,payments:e.pool_statistics.totalPayments,minerspaid:e.pool_statistics.totalMinersPaid},$U.pool=now;else if("account"===l)e&&e.totalHashes&&0<e.totalHashes&&($A[addr]={due:Rnd(e.amtDue/1e12,8),paid:Rnd(e.amtPaid/1e12,8),hashes:e.totalHashes,last:e.lastHash,shares:Num(e.validShares)+" / "+Num(e.invalidShares),stats:{},wrkrs:{},wrkrs_updt:0});else if("workers"===l){for($A[addr].wrkrs={},c=0;c<t;c++)$A[addr].wrkrs[c]={},$A[addr].wrkrs[c].name=e[c];$A[addr].wrkrs_updt=now}else"minershash"===l?$A[addr].stats=api_GraphFormat(e,t,h):"worker"===l?($A[addr].wrkrs[d].stats=api_GraphFormat(e,t,h),$A[addr].wrkrs[d].updt=now):"workerdetail"===l&&($A[addr].wrkrs[d].last=e.lts,$A[addr].wrkrs[d].hashes=e.totalHash,$A[addr].wrkrs[d].val=0<e.validShares?e.validShares:0,$A[addr].wrkrs[d].inv=0<e.invalidShares?e.invalidShares:0);s(d)}else i("Data"),console.log(o)}else i("Connection"),console.log(o)},t?(o.open("GET",$Q.api+t,!0),o.setRequestHeader("Content-Type","application/json"),o.send(),console.log("Lookup: "+l+":"+t)):(console.log("Skipped: "+l+":"+t),s(d))})};function api_GraphFormat(e,t,a){for(var n={},r=0,s=now,i=0,o=0,l=0;l<t;l++){var d=Rnd(e[l].ts/1e3);if(hsh=e[l]&&e[l].hs&&0<e[l].hs?parseInt(e[l].hs):0,a<=d)if(s-300<=d)o++,i+=hsh;else{var c=0<o&&0<i?Rnd(i/o,0):0;n[r]={tme:s,hsh:c},i=hsh,o=0,s-=300,r++}}return n}function Tbl(e,t,a,n){var r='<div class="WingPanel"><table class="txt"><tr class="txttny">';for(var s in $$.tbl[t])r+='<td class="'+$$.tbl[t][s].cls+'">'+$$.tbl[t][s].lbl+"</td>";if(r+="</tr>",$D[t])for(var i=0;i<n;i++)if($D[t][i]){for(var s in r+='<tr class="'+(i%2==0?"ROW1":"ROW0")+'">',$$.tbl[t]){var o="";$D[t]&&$D[t][i]&&$D[t][i][s]&&(o=$D[t][i][s]),"tme"===s?o=Ago(o)+" Ago":$$.tbl[t].hsh&&"y"===$$.tbl[t].hsh&&(o='<div class="HashTrun" data-hash="'+o+'">'+o+"</div>"),r+='<td class="'+$$.tbl[t][s].cls+'">'+o+"</td>"}r+="</tr>"}if(r+='</table><div id="'+e+'-WBL" class="WingBtnL rot180 o3 nopoint C2bk C0fl'+mde+'">'+$I.arrow+'</div><div id="'+e+'-WBR" class="WingBtnR o3 nopoint C2bk C0fl'+mde+'">'+$I.arrow+"</div></div>",document.getElementById(e).innerHTML=r,$D[t]){if("pay"===t?HashTrun("tx"):HashTrun(),"PageBot"===e){var l,d="poolpay"===t?$D.poolstats.payments:$D.poolstats.blocks;l=Math.ceil(d/25),document.getElementById("PageTopR").innerHTML='<span class="txtmed C3'+mde+'">Page</span><input id="TblPagBox" type="text" class="BtnElem txttny C1bk C0'+mde+'" value="'+a+'" data-func="'+t+'" autocomplete="off" data-tot="'+l+'"><span class="txtmed C3'+mde+'">of '+Num(l)+"</span>",PaginationBoxWidth()}var c=document.getElementById(e+"-WBL"),h=document.getElementById(e+"-WBR");0<i&&(1<a&&(c.className="WingBtnL PagBtn rot180 C1bk C0fl"+mde,c.setAttribute("data-page",a-1),c.setAttribute("data-func",t)),i===n&&(h.className="WingBtnR PagBtn C1bk C0fl"+mde,h.setAttribute("data-page",a+1),h.setAttribute("data-func",t)))}}function PaginationBoxWidth(){var e=document.getElementById("TblPagBox"),t=e.value.replace(/\D/g,""),a=parseInt(e.getAttribute("data-tot")),n=18;999<t?(n=9999<t?50:42,a<t&&(t=a),t=Num(t)):99<t?n=32:9<t&&(n=24),e.style.width=n+"px",e.value=t}function Graph_Net(){if(null!=$C.NetGraph&&$D.net[0]&&$D.net[0].hash){var e,t=999999999999,a=0,n=0,r=numObj($D.net),s=numObj($D.pool),i=numObj($D.block),o={n:{},p:{},b:{}},l=0,d=$C.NetGraph.clientHeight,c=75<d?"y":"n",h=d-("y"==c?24:0),m="y"==c?6.5:4.5,u="y"==c?1.25:.75,v=900<width?55:50,f=width-v,y=GraphLib_Duration(),g=now-3600*y,b=HashConv($D.net[0].hash),$=HashConv($D.pool[0].hash),x=0,C='<svg viewBox="0 0 '+width+" "+h+'" class="chart"><defs><linearGradient id="P"><stop offset="0%" stop-color="#'+$Q.clr.main+'" stop-opacity="0.99" /><stop offset="98%" stop-color="#'+$Q.clr.main+'" stop-opacity="0.05" /><stop offset="100%" stop-color="#'+$Q.clr.main+'" stop-opacity="0.00" /></linearGradient></defs>';for(n=r;n--;)$D.net[n].hash>a&&(a=$D.net[n].hash);for(n=s;n--;)l+=$D.pool[n].hash,$D.pool[n].hash<t&&(t=$D.pool[n].hash);for(l/=s,e=f/(now-g),n=0;n<r;n++)o.n[n]={x:Rnd(f-(now-$D.net[n].tme)*e,1),y:Rnd(2+h-($D.net[n].hash-t)/(a-t)*h,1)};for(n=0;n<s;n++)o.p[n]={x:Rnd(f-(now-$D.pool[n].tme)*e,1),y:Rnd(h-4-($D.pool[n].hash-t)/(a-t)*h,1)};for(C+='<polyline class="C1st" stroke-width="'+u+'" fill="url(#P)" points="'+f+","+o.n[0].y,n=0;n<r;n++)C+=" "+o.n[n].x+","+o.n[n].y;for(C+=" -3,"+o.n[r-1].y+" -3,"+o.p[r-1].y,n=s;n--;)C+=" "+o.p[n].x+","+o.p[n].y;if(C+='" /><text x="'+(f+5)+'" y="'+(o.n[0].y+14)+'" class="txtmed C1fl">'+Rnd(b.num,1,"txt")+'</text><text x="'+(f+5)+'" y="'+(o.p[0].y+1)+'" class="txtmed C1fl">'+Rnd($.num,1,"txt")+"</text>","y"==c&&(C+='<text x="'+(f+5)+'" y="'+(o.n[0].y+23)+'" class="txttny C2fl o8">'+b.unit+' Net</text><text x="'+(f+5)+'" y="'+(o.p[0].y-17)+'" class="txttny C2fl o8">'+$.unit+" Pool</text>"),$Q.graph.pplns){var k=120*$D.net[0].hash*2/l*e,w=9999999999,T=0;for(C+='<polygon class="C1fl" opacity=".75" points="'+f+","+o.n[0].y,n=0;n<r;n++)o.n[n].x>f-k&&(C+=" "+o.n[n].x+","+o.n[n].y);for(p=s-1;0<=p;p--)o.p[p].x>f-k&&(C+=" "+o.p[p].x+","+o.p[p].y,o.p[p].x<w&&(w=o.p[p].x));C+=" "+f+","+o.p[0].y+'" />',"y"==c&&(C+='<text x="'+(T=(f+w)/2)+'" y="20" text-anchor="middle" class="C0fl'+mde+' txttny o9"><tspan x="'+T+'">PPLNS</tspan><tspan x="'+T+'" dy="10">Window</tspan></text>')}if(C+=GraphLib_Grid("line",3,a,t,h,width,"C0"),C+=GraphLib_Grid("lbl",3,a,t,h,width,"C0"),0<i){for(var L=0,M=g,A=0,B=0,D=0,P=5+h,_=(f=width-v,0);_<i;_++){var H="n";$D.block[_].tme>=g?H="y":D<6&&($D.block[_].tme<M&&(M=$D.block[_].tme),H="y",D++),"y"===H&&(B++,A+=parseInt($D.block[_].eff),$D.block[_].eff>L&&(L=$D.block[_].eff))}for(A=Rnd(A/B),x=Rnd((now-$D.block[0].tme)/($D.net[0].hash/$D.pool[0].hash*120)*100),n=B=0;n<i;n++)if($D.block[n].tme>=M){var I=Rnd(f-(now-$D.block[n].tme)*(f/(now-M)),1);57<I&&(o.b[n]={x:I,y:Rnd(h-10-$D.block[n].eff*((h-25)/L),1)},B++)}for(i=B,n=0;n<i;n++){var E=$D.block[n].eff<=100?"C5fl":"C4fl",N={0:{cl:"C1fl",sz:1},1:{cl:"o7 C0fl"+mde,sz:.92},2:{cl:"Dot "+E,sz:.71}};for(_=0;_<=2;_++){var S="",R="";2===_&&(S=" ToolTip blockgroup",R=' data-block="'+n+'" data-eff="'+$D.block[n].eff+'" data-tme="'+$D.block[n].tme+'"'),C+='<circle cx="'+o.b[n].x+'" cy="'+o.b[n].y+'" r="'+m*N[_].sz+'" class="'+N[_].cl+S+'"'+R+" />"}}}if("y"==c){var G=P+4,W=0,F=0,O=f,Q=0,z="";0<i&&(W=o.b[i-1].x,F=o.b[i-1].y,O=o.b[0].x,Q=o.b[0].y,z=Ago($D.block[0].tme)+" Ago",C+='<line x1="'+O+'" y1="'+(Q+3+m/2)+'" x2="'+O+'" y2="'+P+'" class="line C2st" /><line x1="'+O+'" y1="'+P+'" x2="'+W+'" y2="'+P+'" class="line C2st" /><line x1="'+W+'" y1="'+(F+3+m/2)+'" x2="'+W+'" y2="'+P+'" class="line C2st" /><rect x="'+(W+10)+'" y="'+h+'" width="90" height="13" class="C0fl'+mde+'" /><text x="'+(W+55)+'" y="'+G+'" text-anchor="middle" class="C2fl txttny">'+A+'% Avg Effort</text><rect x="'+(O-100)+'" y="'+h+'" width="90" height="13" class="C0fl'+mde+'" /><text x="'+(O-55)+'" y="'+G+'" text-anchor="middle" class="C2fl txttny">Found '+z+'</text><rect x="'+(f-7)+'" y="'+(G-8)+'" width="11" height="9" class="C0fl'+mde+'" /><text x="'+(f-8)+'" y="'+G+'" class="C2fl txttny">'+x+"% "+$L.eff+'</text><line x1="'+f+'" y1="'+(P-15)+'" x2="'+f+'" y2="'+Q+'" class="line C2st" /><line x1="'+O+'" y1="'+P+'" x2="'+(f-10)+'" y2="'+P+'" class="line C2st" />'),C+='<text x="5" y="'+G+'" class="C2fl txttny">'+Ago($D.pool[s-1].tme)+" Ago</text>"}C+='<circle cx="'+f+'" cy="'+o.p[0].y+'" r="2" class="C1fl" />',C+=GraphLib_ToolTipSetup(),C+='</svg><div id="GPop" class="pleft C0bk'+mde+' C1br hide"></div>',$C.NetGraph.innerHTML=C,netpop_open&&Graph_NetPop(netpop_open),GraphLib_ToolTipListener()}}function Graph_NetPop(e){var t=document.querySelector('.blockgroup[data-block="'+e+'"]'),a=document.getElementById("GPop"),n=t.getAttribute("cx")>width/2?"pleft":"pright",r='<table class="TDPadS txt C3'+mde+'"><tr><td><div class="txtmed">'+Ago($D.block[e].tme)+' Ago</div><div class="pbar"></div><div class="txttny">'+$D.block[e].eff+"% "+$$.tbl.blockhistory.eff.lbl+'</div></td><td><div class="txtmed">'+$D.block[e].reward+" "+$Q.cur.sym+'</div><div class="pbar"></div><div class="HashTrun txttny" data-hash="'+$D.block[e].hash+'"></div></td><td><div id="GPopConfirm" class="txtmed">--</div><div class="pbar"></div><div class="txttny">'+$$.tbl.blockhistory.height.lbl+" "+Num($D.block[e].height)+'</div></td></tr></table><div id="NetGraphClose" class="Btn16 Btn16Corner C1fl" data-block="'+e+'">'+$I.x+"</div>";a.classList.remove("hide","pleft","pright"),a.classList.add(n),a.innerHTML=r,HashTrun(),api("netheight").then(function(){document.getElementById("GPopConfirm").innerHTML=BlockToGo($D.block[e].height,$D.block[e].val)}).catch(function(e){console.log(e)})}function Graph_Miner_init(){var e=document.getElementById("MinerGraph");null!=e&&addr&&$A[addr]&&(e.innerHTML=$I.load,isEmpty($A[addr].stats)?api("minershash").then(function(){Graph_Miner()}).catch(function(e){console.log(e)}):Graph_Miner())}function Graph_Miner(){var e="",t=140,a=999999999999999,n=GraphLib_Duration(),r=now-3600*n,s=width-65,i=$A[addr].stats,o=0,l=numObj(i),d=[],c=0,h=0,m=0,p=0;for(o=l;o--;)c+=i[o].hsh,i[o].hsh>h&&(h=i[o].hsh),i[o].tme<a&&(a=i[o].tme);if(0<h){for(r<=a&&(r=a),h*=1.2,c/=l,o=0;o<l;o++){var u=Rnd(s-(now-i[o].tme)*(s/(now-r)),1),v=Rnd(t-i[o].hsh/h*t,1);d.push({x:u,y:v,tme:i[o].tme,hsh:i[o].hsh}),0===o?m=v:o===l-1&&(p=v)}e='<svg viewBox="0 0 '+width+' 150" class="chart"><defs><linearGradient id="M"><stop offset="0%" stop-color="#818181" stop-opacity="0.2" /><stop offset="15%" stop-color="#818181" stop-opacity="0.3" /><stop offset="100%" stop-color="#818181" stop-opacity="1" /></linearGradient></defs>',e+=GraphLib_Grid("line",5,h,0,t,width,"C2"),e+='<path class="C0fl'+mde+'" stroke="url(#M)" stroke-width="2" d="'+GraphLib_Bezier(d)+"M0,"+p+" 0,153 "+(width+3)+",153 "+(width+3)+","+m+'" />';var f=HashConv(i[0].hsh),y=m+2,g=m+11;112<m&&(g=(y=m)-17),e+='<text x="'+(4+s)+'" y="'+y+'" class="txtmed C3fl'+mde+'">'+Rnd(f.num,1,"txt")+" "+f.unit+'</text><text x="'+(4+s)+'" y="'+g+'" class="txttny C3fl'+mde+' o7">Your Hash</text>';for(o=0;o<d.length;o++)0!==o&&50<d[o].x&&(e+='<circle cx="'+d[o].x+'" cy="'+d[o].y+'" r="2" class="C2fl o8" /><circle cx="'+d[o].x+'" cy="'+d[o].y+'" r="4" class="ToolTip C1fl_hov" data-tme="'+d[o].tme+'" data-hsh="'+d[o].hsh+'" />');var b=Rnd(t-c/h*t,2),$=HashConv(c),x=$.num+" "+$.unit+" Avg "+Ago(r),C=5.4*x.length;e+='<line x1="55" y1="'+b+'" x2="'+s+'" y2="'+b+'" class="mineravgline C1st" /><rect x="'+(width/2-C/2)+'" y="'+(b-8)+'" width="'+C+'" height="18" rx="3" class="line C0fl'+mde+' C1st" /><text id="MinerGraphAvg" data-hsh="'+c+'" x="'+width/2+'" y="'+(b+4)+'" text-anchor="middle" class="C2fl txttny">'+x+"</text>",e+=GraphLib_Grid("lbl",5,h,0,t,width,"C2"),e+='<text x="5" y="140" class="txttny C2fl o9">0</text>',e+=GraphLib_ToolTipSetup(),e+="</svg>",document.getElementById("MinerGraph").innerHTML=e,Dash_calc(),GraphLib_ToolTipListener()}else ErrAlert("MinerGraph","NoData"),e='<div id="MinerGraphAlert" class="txtmed C2 o5">'+$$.msg.addr_nodat.head+"</div>"}function Graph_Worker(e){var t=document.querySelector('.WorkerChart[data-worker="'+e+'"]'),a=t.clientWidth,n=a+3,r=0,s=0,i=$A[addr].wrkrs[e].stats,o=numObj(i),l=[],d=0,c=0,h=99999999999,m='<svg viewBox="0 0 '+a+' 26" class="chart"><defs><linearGradient id="F" gradientTransform="rotate(90)"><stop offset="0%" stop-color="#000" stop-opacity="0.07" /><stop offset="100%" stop-color="#000" stop-opacity="0.03" /></linearGradient></defs>';for(r=0;r<o;r++)i[r].hsh>s&&(s=i[r].hsh),i[r].tme<h&&(h=i[r].tme);if(0<s){for(r=0;r<o;r++){var p=Rnd(a-(now-i[r].tme)*(a/(now-h)),1),u=Rnd(26-i[r].hsh*(26/s),1);l.push({x:p,y:u}),0===r?c=u:r===o-1&&(d=u)}m+='<path fill="url(#F)" stroke-width="1.25" class="C2st" d="'+GraphLib_Bezier(l)+"M-3,"+d+" -3,29 "+n+",29 "+n+","+c+'" />'}t.innerHTML=m+"</svg>"}function GraphLib_Duration(){var e=$Q.graph.hrs;return width<600?e/=2.5:width<800?e/=2:width<1200&&(e/=1.5),e}function GraphLib_Grid(e,t,a,n,r,s,i){var o="";if(0<a)for(var l=(a-n)/t,d="C2"===i?"":mde,c=t-1;1<=c;c--){var h=Rnd(r-l*c/((a-n)/r),1);if("line"===e)o+='<line x1="50" y1="'+h+'" x2="'+s+'" y2="'+h+'" class="line '+i+"st"+d+' o8" />';else if("lbl"===e){var m=HashConv(l*c);o+='<text x="5" y="'+h+'" class="'+i+"fl"+d+' txttny">'+m.num+" "+m.unit+"</text>"}}return o}function GraphLib_ToolTip(e,t){var a=e.closest("svg.chart"),n={Tip_Val:{x:0,y:999,i:""},Tip_Tme:{x:0,y:999,i:""},Tip_ValBx:{x:0,y:999,w:""},Tip_TmeBx:{x:0,y:999}};if(t_x=parseFloat(e.getAttribute("cx")),t_y=parseFloat(e.getAttribute("cy"))+2,tme=parseInt(e.getAttribute("data-tme")),t_v="",offset=0,"open"===t){if(e.getAttribute("data-eff"))t_v=e.getAttribute("data-eff")+"%",offset=9;else if(e.getAttribute("data-hsh")){var r=HashConv(e.getAttribute("data-hsh"));t_v=r.num+" "+r.unit}var s=Ago(tme)+" Ago "+Time(tme),i=6*t_v.length+offset,o=5.9*s.length-3;n={Tip_Val:{x:t_x-i/2-6,y:t_y,i:t_v},Tip_ValBx:{x:t_x-i-6,y:t_y-10,w:i},Tip_Tme:{x:t_x+7+o/2,y:t_y,i:s},Tip_TmeBx:{x:t_x+7,y:t_y-10,w:o}}}for(var l in n){var d=a.querySelector("."+l);d&&(d.setAttribute("x",n[l].x),d.setAttribute("y",n[l].y),n[l].w&&d.setAttribute("width",n[l].w),n[l].i&&(d.innerHTML=n[l].i))}}function GraphLib_ToolTipSetup(){return'<rect x="0" y="-999" width="9" height="13" rx="3" class="Tip_ValBx C1st C0fl'+mde+'" /><text x="0" y="-999" text-anchor="middle" class="Tip_Val C2fl txttny"></text><rect x="0" y="-999" width="9" height="13" rx="3" class="Tip_TmeBx C1st C0fl'+mde+'" /><text x="0" y="-999" text-anchor="middle" class="Tip_Tme C2fl txttny"></text>'}function GraphLib_ToolTipListener(){var e=document.getElementsByClassName("ToolTip");for(i=0;i<e.length;i++)e[i].addEventListener("mouseenter",function(){GraphLib_ToolTip(this,"open")},!1),e[i].addEventListener("mouseleave",function(){GraphLib_ToolTip(this,"close")},!1)}function GraphLib_Bezier(e){var t="";if(e&&0<e.length){var a=[];t="M"+e[0].x+", "+e[0].y+" ";for(var n=0;n<e.length-1;n++){var r=[],s=[];r.push({x:e[Math.max(n-1,0)].x,y:e[Math.max(n-1,0)].y}),r.push({x:e[n].x,y:e[n].y}),r.push({x:e[n+1].x,y:e[n+1].y}),r.push({x:e[Math.min(n+2,e.length-1)].x,y:e[Math.min(n+2,e.length-1)].y}),s.push({x:(-r[0].x+6*r[1].x+r[2].x)/6,y:(-r[0].y+6*r[1].y+r[2].y)/6}),s.push({x:(r[1].x+6*r[2].x-r[3].x)/6,y:(r[1].y+6*r[2].y-r[3].y)/6}),s.push({x:r[2].x,y:r[2].y}),a.push(s)}for(n=0;n<a.length;n++)t+="C"+Rnd(a[n][0].x,1)+","+Rnd(a[n][0].y,1)+" "+Rnd(a[n][1].x,1)+","+Rnd(a[n][1].y,1)+" "+Rnd(a[n][2].x,1)+","+Rnd(a[n][2].y,1)+" "}return t}function isEmpty(e){return!(!e||0!==Object.entries(e).length||e.constructor!==Object)}function numObj(e){var t=0;return e&&"object"==typeof e&&null!==e&&(t=Object.keys(e).length),t}function Ago(e){var t=now-parseInt(e),a=0;return t<60?t+=" Sec":t<=3600?t=Rnd(t/60)+" Min":(t=t<=86400?(a=Rnd(t/60/60))+" Hr":(a=Rnd(t/60/60/24))+" Day",1<a&&(t+="s")),t}function Time(e){var t="";if(1<e){var a=new Date(1e3*e),n=a.getHours(),r="0"+a.getMinutes(),s="";"en-US"!==lang&&"en-CA"!==lang||(s=" am",12<=n&&(n-=12,s=" pm")),t=n+":"+r.substr(-2)+s}return t}function Num(e){return(e=e||0).toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}function Rnd(e,t,a){if(1<=t){var n=Math.pow(10,t);e=Math.round(e*n)/n,"txt"===a&&(e=e.toFixed(t))}else e=Math.round(e);return e}function HashTrun(s){document.querySelectorAll(".HashTrun").forEach(function(e){var t=e.getAttribute("data-hash"),a="tx"===s?$Q.explorertx:$Q.explorer,n=t,r=Math.floor(e.clientWidth/7.02/2);t.length>2*r&&(n=t.substring(0,r-1)+"..."+t.slice(2-r)),e.innerHTML='<a href="'+a+t+'" target="_blank" class="C1 hov">'+n+"</a>"})}function HashConv(e){e=0<e?e:0;var t="/s";for(var a in $D.hashconv)if(e>=$D.hashconv[a]){e/=$D.hashconv[a],t=a+t;break}return 0===e&&(t="H/s"),{num:Rnd(e,1),unit:t}}function BlockToGo(e,t){if("f"===t)return'<span class="C4">Invalid</span>';var a=60-($D.netheight-e);return a<=0?$L.conf:a+" To Go"}function SynchTime(e){now<e&&(now=e+3)}function Truncate(e,t){return e&&0<e.length&&0<t&&e.length>t?e.substring(0,t-3)+"...":e}function UrlVars(){for(var e,t=[],a=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),n=0;n<a.length;n++)e=a[n].split("="),t.push(e[0]),t[e[0]]=e[1];return t}function removeElement(e){var t=document.getElementById(e);if(t)return t.parentNode.removeChild(t)}function setCookie(e,t){var a=new Date;a.setTime(a.getTime()+31536e6),document.cookie=cookieprefix+e+"="+(t||"")+"; expires="+a.toUTCString()+"; path=/"}function getCookie(e){for(var t=cookieprefix+e+"=",a=document.cookie.split(";"),n=0;n<a.length;n++){for(var r=a[n];" "==r.charAt(0);)r=r.substring(1,r.length);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return null}function delCookie(e){document.cookie=e+"=; Max-Age=-99999999;"}